
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter 10 &#8212; Python for Programmers with AI Case Studies in Persian</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=f831ba83" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Chapters/10 - Object-Oriented-Programming/Chapter10';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Chapter 9" href="../09%20-%20Files-and-Exceptions/Chapter9.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../01%20-%20Introduction-to-Computers-and-Python/Chapter1.html">
  
  
  
  
  
  
    <p class="title logo__title">Python for Programmers with AI Case Studies in Persian</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../01%20-%20Introduction-to-Computers-and-Python/Chapter1.html">
                    Chapter 1
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../02%20-%20Introduction-to-Python-Programming/Chapter2.html">Chapter 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03%20-%20Control-Statements/Chapter3.html">Chapter 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04%20-%20Functions/Chapter4.html">Chapter 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05%20-%20Sequences-%28Lists-and-Tuples%29/Chapter5.html">Chapter 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06%20-%20Dictionaries-and-Sets/Chapter6.html">Chapter 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07%20-%20Array-Oriented-Programming-with-NumPy/Chapter7.html">Chapter 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08%20-%20Strings-%28A-Deeper-Look%29/Chapter8.html">Chapter 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09%20-%20Files-and-Exceptions/Chapter9.html">Chapter 9</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 10</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/MarziyehAghabalasafar/Python-for-Programmers-with-Introductory-AI-Case-Studies" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/MarziyehAghabalasafar/Python-for-Programmers-with-Introductory-AI-Case-Studies/issues/new?title=Issue%20on%20page%20%2FChapters/10 - Object-Oriented-Programming/Chapter10.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Chapters/10 - Object-Oriented-Programming/Chapter10.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 10</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-10">
<h1>Chapter 10<a class="headerlink" href="#chapter-10" title="Link to this heading">#</a></h1>
<img src="https://deitel.com/wp-content/uploads/2020/01/python-for-programmers.jpg" align = "left">
<!DOCTYPE html>
<html>
<head>
    <style>
    </style>
</head>
<body>
    <h1 style="text-align:right;font-size:250%; font-family: 'XB Zar';"><span style="color:#9575cd;font-size:300%;">پایتون</span> <br>برای برنامه‌نویسان</h1>
    <hr>
    <p style="text-align:right;font-size:150%;font-family: 'XB Zar';"><b>با مطالعات مقدماتی هوش مصنوعی</b></p>
    <p style="text-align:right;font-size:150%;font-family: 'XB Zar';">مولفین : پل دایتل و هاروی دایتل</p>
</body>
</html><html>
<head>
    <style>
    </style>
</head>
<body>
    <hr>
    <p style="text-align:right;font-size:150%;font-family:XB Zar;"><b>استاد:</b> جناب آقای دکتر صالحی</p>
    <p style="text-align:right;font-size:150%;font-family:XB Zar;"><b>گردآورنده:</b> مرضیه آقابالاصفر</p>
    <p style="text-align:right;font-size:150%;font-family:XB Zar;">دپارتمان علوم‌کامپیوتر، دانشکده علوم ریاضی، دانشگاه شهرکرد</p>
    <hr>
</body>
</html>
<h1 style="text-align:center;font-size:450%; font-family: 'XB Zar';"><span style="color:#8e24aa;">فصل ۱۰: برنامه نویسی شیءگرا</span></h1> <a id='1'></a><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';"><span style="color:#F50057;">اهداف</span></h1>
<p style="text-align:right;">
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
در این فصل :
</div>
    <div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#F50057;">■ </span>کلاس‌های سفارشی و اشیایی از این کلاس‌ها ایجاد خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>مزایای استفاده از کلاس‌ها را درک خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>دسترسی به 
        attribute
        ها را کنترل خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>ارزش شیء‌گرایی را درک خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>از متدهای ویژه پایتون نظیر 
        __repr__, __str__ و __format__ 
        برای نمایش رشته‌های یک شیء استفاده خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>از متدهای ویژه در پایتون برای 
        overload
        (تعریف مجدد) عملگرها استفاده می‌کنید و این عملگرها را برای اشیایی از کلاس‌های جدید به کار خواهید برد.<br>
    <span style="color:#F50057;">■ </span>از طریق وراثت متدها، 
        property
        ها و 
        attribute
        ها را از کلاس‌های موجود به کلاس‌های جدید انتقال می‌دهید و این کلاس‌ها را سفارشی خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>مفاهیم ارث‌بری از 
        base classes
        (کلاس‌های پایه، ابرکلاس‌ها) و 
        derived classes
        (کلاس‌های مشتق شده، زیرکلاس‌ها) را درک خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>duck typing
        و 
        polymorphism
        را درک خواهید کرد. این دو مفهوم، امکان برنامه نویسی در حالت کلی را فراهم می‌کنند.<br>
    <span style="color:#F50057;">■ </span>کلاس 
        object
        را درک خواهید کرد. همه کلاس‌ها، ویژگی‌های اساسی را از این کلاس به ارث می‌برند.<br>
    <span style="color:#F50057;">■ </span>composition
        و 
        inheritance
        را مقایسه خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>test case ها
        را در
        docstring
        ها ایجاد خواهید کرد و با 
        doctest
        این 
        test
        ها را اجرا خواهید کرد.<br>
    <span style="color:#F50057;">■ </span>namespaces
        و نحوه تأثیر آن‌ها بر 
        scope
        را درک خواهید کرد.<br>
    </div>
</p><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';"><span style="color:#8e24aa;">رئوس مطالب</span></h1>
<hr>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
<ol class="arabic simple" start="10">
<li><p><a class="reference internal" href="#1"><span class="xref myst">فصل ۱۰: برنامه نویسی شیءگرا</span></a></p>
<ul class="simple">
<li><p>10.1 <a class="reference internal" href="#2"><span class="xref myst">مقدمه</span></a></p></li>
<li><p>10.2 <a class="reference internal" href="#3"><span class="xref myst">کلاس سفارشی Account</span></a></p>
<ul>
<li><p>10.2.1 <a class="reference internal" href="#4"><span class="xref myst">Test-Driving Class Account</span></a></p></li>
<li><p>10.2.2 <a class="reference internal" href="#5"><span class="xref myst">تعریف کلاس Account</span></a></p></li>
<li><p>10.2.3 <a class="reference internal" href="#6"><span class="xref myst">Composition: ارجاع به اشیاء به عنوان عضوی از کلاس‌ها</span></a></p></li>
</ul>
</li>
<li><p>10.3 <a class="reference internal" href="#7"><span class="xref myst">کنترل دسترسی به Attribute ها</span></a></p></li>
<li><p>10.4 <a class="reference internal" href="#8"><span class="xref myst">property ها برای دسترسی به داده‌ها</span></a></p>
<ul>
<li><p>10.4.1 <a class="reference internal" href="#9"><span class="xref myst">Test-Driving Class Time</span></a></p></li>
<li><p>10.4.2 <a class="reference internal" href="#10"><span class="xref myst">تعریف کلاس Time</span></a></p></li>
<li><p>10.4.3 <a class="reference internal" href="#11"><span class="xref myst">نکاتی در مورد طراحی کلاس Time</span></a></p></li>
</ul>
</li>
<li><p>10.5 <a class="reference internal" href="#12"><span class="xref myst">شبیه سازی Private Attribute ها</span></a></p></li>
<li><p>10.6 <a class="reference internal" href="#13"><span class="xref myst">مورد مطالعاتی: شبیه‌سازی برزدن ورق و پخش ورق</span></a></p>
<ul>
<li><p>10.6.1 <a class="reference internal" href="#14"><span class="xref myst">Test-Driving Classes Card and DeckOfCards</span></a></p></li>
<li><p>10.6.2 <a class="reference internal" href="#15"><span class="xref myst">کلاس Card: مقدمه‌ای بر Attribute های کلاس</span></a></p></li>
<li><p>10.6.3 <a class="reference internal" href="#16"><span class="xref myst">کلاس DeckOfCards</span></a></p></li>
<li><p>10.6.4 <a class="reference internal" href="#17"><span class="xref myst">نمایش تصویر کارت‌ها با Matplotlib</span></a></p></li>
</ul>
</li>
<li><p>10.7 <a class="reference internal" href="#18"><span class="xref myst">وراثت: کلاس‌های پایه و زیرکلاس‌ها</span></a></p></li>
<li><p>10.8 <a class="reference internal" href="#19"><span class="xref myst">ایجاد سلسله مراتب وراثت: مقدمه‌ای بر پلی‌مورفیسم</span></a></p>
<ul>
<li><p>10.8.1 <a class="reference internal" href="#20"><span class="xref myst">کلاس پایه CommissionEmployee</span></a></p></li>
<li><p>10.8.2 <a class="reference internal" href="#21"><span class="xref myst">زیرکلاس SalariedCommissionEmployee</span></a></p></li>
<li><p>10.8.3 <a class="reference internal" href="#22"><span class="xref myst">پردازش CommissionEmployee و SalariedCommissionEmployee به روش پلی‌مورفیسم</span></a></p></li>
<li><p>10.8.4 <a class="reference internal" href="#23"><span class="xref myst">نکاتی در مورد برنامه نویسی مبتنی بر شیء و برنامه نویسی شیءگرا</span></a></p></li>
</ul>
</li>
<li><p>10.9 <a class="reference internal" href="#24"><span class="xref myst">Duck Typing و Polymorphism</span></a></p></li>
<li><p>10.10 <a class="reference internal" href="#25"><span class="xref myst">Overload کردن عملگرها</span></a></p>
<ul>
<li><p>10.10.1 <a class="reference internal" href="#26"><span class="xref myst">Test-Driving Class Complex</span></a></p></li>
<li><p>10.10.2 <a class="reference internal" href="#27"><span class="xref myst">تعریف کلاس Complex</span></a></p></li>
</ul>
</li>
<li><p>10.11 <a class="reference internal" href="#28"><span class="xref myst">سلسله مراتب کلاس Exception و Exception های سفارشی</span></a></p></li>
<li><p>10.12 <a class="reference internal" href="#29"><span class="xref myst">تاپل‌های نام‌گذاری شده</span></a></p></li>
<li><p>10.13 <a class="reference internal" href="#30"><span class="xref myst">معرفی مختصری از کلاس‌های داده جدید در پایتون ۳.۷ </span></a></p>
<ul>
<li><p>10.13.1 <a class="reference internal" href="#31"><span class="xref myst">ایجاد کلاس داده Card</span></a></p></li>
<li><p>10.13.2 <a class="reference internal" href="#32"><span class="xref myst">استفاده از کلاس داده Card</span></a></p></li>
<li><p>10.13.3 <a class="reference internal" href="#33"><span class="xref myst">مزایای استفاده از کلاس داده نسبت به تاپل نام‌گذاری شده</span></a></p></li>
<li><p>10.13.4 <a class="reference internal" href="#34"><span class="xref myst">مزایای استفاده از کلاس داده نسبت به کلاس‌های مرسوم</span></a></p></li>
</ul>
</li>
<li><p>10.14 <a class="reference internal" href="#35"><span class="xref myst">Unit Testing با Docstrings و doctest</span></a></p></li>
<li><p>10.15 <a class="reference internal" href="#36"><span class="xref myst">Namespaces و Scopes</span></a></p></li>
<li><p>10.16 <a class="reference internal" href="#37"><span class="xref myst">مقدمه‌ای بر علم داده: سری‌های زمانی و رگرسیون خطی ساده</span></a></p></li>
<li><p>10.17 <a class="reference internal" href="#38"><span class="xref myst">جمع‌بندی</span></a></p></li>
</ul>
</li>
</ol>
</div>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.1 <span style="color:#F50057;">مقدمه</span></h1> <a id='2'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در بخش  ۱.۲ اصطلاحات اساسی و مفاهیم برنامه‌نویسی شیءگرا را معرفی کردیم. در پایتون هر چیز یک شیء می‌باشد، بنابراین در سرتاسر این کتاب دائما از اشیاء استفاده کرده‌اید. همان‌طور که خانه‌ها از نقشه و طرح اولیه ساخته می‌شوند، اشیاء نیز از کلاس‌ها ساخته می‌شوند؛ این مفهوم یکی از ارکان فناوری برنامه نویسی شیءگرا محسوب می‌شود. ساخت یک شیء جدید از یک کلاس بزرگ کار ساده‌ای است و معمولا با یک دستور این کار را انجام می‌دهید.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">ایجاد کلاس‌های ارزشمند</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قبلا از کلاس‌های زیادی که توسط افراد دیگری ایجاد شده‌اند، استفاده کرده‌اید. در این فصل کلاس‌های سفارشی خود را ایجاد خواهید کرد. تمرکز خود را بر روی ساخت کلاس‌های ارزشمند قرار خواهید داد؛ این کلاس‌ها به شما کمک می‌کنند تا نیازهای برنامه‌هایی که ایجاد می‌کنید را تأمین کنید. از برنامه نویسی شیءگرا و فناوری‌های اصلی آن نظیر کلاس‌ها، اشیاء، وراثت و پلی‌مورفیسم استفاده خواهید کرد. برنامه‌های نرم‌افزاری در حال گسترش و غنی‌تر شدن از نظر عملکرد هستند. برنامه نویسی شیءگرا طراحی، پیاده‌سازی، آزمایش، اشکال زدایی و به‌روزرسانی چنین نرم‌افزارهای پیچیده و مدرنی را آسان‌تر می‌کند. مباحث موجود در بخش‌های 10.1 تا 10.9 را با عنوان مقدمه‌ای با تمرکز بر کد، برای این فناوری‌ها مطالعه کنید. بعضی از خوانندگان از مطالعه بخش‌های 10.10 تا 10.15 صرف‌نظر می‌کنند. این بخش‌ها چشم‌انداز مربوط به این فناوری‌ها و ویژگی‌های اضافی مرتبط را ارائه می‌دهند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">کتابخانه‌های کلاس و برنامه نویسی شیءگرا</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قسمت عمده برنامه نویسی شیءگرا که در پایتون انجام می‌دهید یک برنامه نویسی مبتنی بر شیء است؛ در این سبک عمدتا اشیاء را از کلاس‌های موجود ایجاد کرده و از آن‌ها استفاده می‌کنید. در کل کتاب، این کار را با نوع داده‌های داخلی مانند 
    int, float, str, list, tuple, dict و set
    ، انواع کتابخانه استاندارد پایتون مانند 
    Decimal
    ، آرایه‌های 
    NumPy
    و همچنین با استفاده از
    Figures
    و 
    Axes
    در 
    Matplotlib
    و 
    Series
    و 
    DataFrames
    در 
    pandas
    انجام داده‌اید. برای استفاده حداکثری از پایتون باید با بسیاری از کلاس‌های موجود در این زبان آشنا شوید. در طول سال‌ها، جامعه متن‌باز پایتون، تعداد زیادی کلاس ارزشمند ایجاد کرده و آن‌ها را در کتابخانه‌های کلاس بسته‌بندی کرده است. این فرآیند یعنی استفاده مجدد از کلاس‌های موجود به جای کدنویسی از ابتدا، موجب سهولت توسعه نرم‌افزار می‌شود. کلاس‌های کتابخانه‌های متن‌باز که به طور گسترده مورد استفاده قرار می‌گیرند، به احتمال زیاد در طیف وسیعی از دستگاه‌ها، سیستم‌عامل‌ها و نسخه‌های پایتون قابل اجرا هستند، به طور کامل تست شده‌اند، باگ ندارند و از نظر کارایی هم تنظیم شده‌اند. تعداد زیادی ازکتابخانه‌های پایتون را می‌توانید در اینترنت و در سایت‌هایی مانند 
    GitHub, BitBucket, SourceForge
    و موارد دیگر پیدا کنید. این کتابخانه‌ها به راحتی با 
    conda
    یا 
    pip
    نصب می‌شوند. این ویژگی، دلیل اصلی محبوبیت پایتون است. اکثریت قریب به اتفاق کلاس‌هایی که شما نیاز دارید احتمالا به صورت رایگان در کتابخانه‌های متن‌باز در دسترس خواهند بود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">ایجاد کلاس‌های سفارشی</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌ها نوع داده‌های جدید هستند. هر کلاس کتابخانه استاندارد پایتون و هر کلاس کتابخانه یک شرکت ثالث، یک نوع داده سفارشی است که توسط شخص دیگری ایجاد شده است. در این فصل، کلاس‌های ویژه برنامه خودتان، مانند CommissionEmployee, Time, Card, DeckOfCards و موارد دیگر را توسعه می‌دهید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بیشتر برنامه‌هایی که برای استفاده شخصی خود توسعه می‌دهید معمولا از کلاس‌های سفارشی استفاده نمی‌کنند یا فقط از چند کلاس استفاده می‌کنند. اگر عضوی از تیم توسعه در صنعت باشید، ممکن است روی برنامه‌هایی کارکنید که شامل صدها یا حتی هزاران کلاس باشد. شما می‌توانید کلاس‌های خودتان را با انجمن پایتون به اشتراک بگذارید ولی موظف به این کار نیستید. سازمان‌ها اغلب سیاست‌ها و رویه‌های خاصی در ارتباط با کدهای منبع دنبال می‌کنند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">ارث‌بری یا 
    Inheritance
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قابلیت ایجاد کلاس‌های جدید از طریق 
    inheritance
    و 
    composition
    از کلاس‌های موجود در طیف وسیعی از کتابخانه‌های کلاس، یک مفهوم جالب می‌باشد. همان طور که امروزه سخت‌افزار از قطعات قابل تعویض ساخته می‌شود، در نهایت نرم‌افزار عمدتا از اجزای استاندارد و قابل استفاده مجدد ساخته می‌شود. این رویکرد به شما کمک می‌کند تا چالش‌های توسعه نرم‌افزارهای قدرتمندتر را برآورده کنید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگام ایجاد یک کلاس جدید، به جای نوشتن همه کدهای جدید، می‌توانید از ابتدا کلاس جدید را با به ارث بردن 
    attribute
    ها (متغیرها) و متدها (
    the class version of functions
    ) یک کلاس پایه که قبلا تعریف شده است (
     superclass
    نامیده می‌شود) شکل دهید. کلاس جدید را کلاس مشتق شده (یا 
    subclass
    ) می‌نامند. پس از به ارث بردن، برای پاسخگویی به نیازهای خاص برنامه خود، کلاس مشتق شده را سفارشی کنید. برای به حداقل رساندن تلاش برای سفارشی‌سازی، همیشه باید سعی کنید از کلاس پایه‌ای ارث‌بری کنید که با نیاز شما بیشترین مطابقت را دارد. برای انجام موثر این کار، باید با کتابخانه‌های کلاسی آشنا شوید که با برنامه‌هایی که قصد ایجاد آن‌ها را دارید، مطابقت داشته باشند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">پلی‌مورفیسم
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این فصل، پلی‌مورفیسم را توضیح داده و نمایش خواهیم داد. پلی‌مورفیسم یا چندریختی این امکان را به شما می‌دهد که به جای کدنویسی برای یک حالت خاص، به راحتی برای حالت کلی برنامه نویسی کنید. فراخوانی متد را به سادگی به اشیائی با نوع داده مختلف ارسال می‌کنید. هر شیء با انجام کار درست، پاسخ می‌دهد. از آنجائی که فراخوانی یک متد اشکال مختلفی به خود می‌گیرد، از واژه پلی‌مورفیسم یا چندریختی استفاده می‌شود. نحوه پیاده‌سازی پلی‌مورفیسم را از طریق وراثت و ویژگی 
    duck typing
    در پایتون توضیح خواهیم داد. هر دو روش را توضیح داده و برای هر یک مثال‌هایی نشان می‌دهیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">یک مطالعه موردی سرگرم‌کننده: شبیه‌سازی برزدن ورق و پخش کردن ورق
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">شما قبلا با استفاده از اعداد تصادفی، پرتاب یک تاس را شبیه‌سازی کردید و از این تکنیک‌ها برای پیاده‌سازی بازی محبوب 
    craps
    با تاس استفاده نمودید. در اینجا، برزدن ورق و پخش کردن ورق را شبیه‌سازی می‌کنیم و می‌توانید از آن برای اجرای بازی‌های کارتی مورد علاقه خود استفاده کنید. با استفاده از 
    Matplotlib
    و طیف وسیعی از تصاویر جذاب، تصاویر روی کارت‌ها را قبل از برزدن و بعد از برزدن نشان خواهید داد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">کلاس‌های داده یا 
    Data Classes
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده جدید در پایتون ۳.۷ به شما کمک می‌کند با استفاده از یک نمادگذاری کوتاه و تولید بخش‌هایی از کلاس‌ها، سریع‌تر کلاس‌ها را ایجاد کنید. واکنش اولیه انجمن پایتون به کلاس‌های داده مثبت بوده است؛ مانند هر ویژگی مهم و جدید، ممکن است مدتی طول بکشد تا کلاس‌های داده به طور گسترده مورد استفاده قرار گیرند. در این کتاب، توسعه کلاس را با هر دو فناوری قدیمی و جدید ارائه می‌دهیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">سایر مفاهیم معرفی شده در این فصل
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">مفاهیم دیگری که ارائه خواهد شد عبارت‌اند از:
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>چگونه بعضی از شناسه‌های خاص فقط درون یک کلاس استفاده شوند و برای 
    client
    های کلاس قابل دسترسی نباشند.<br>
    <span style="color:#8e24aa;">• </span>متدهای ویژه برای ایجاد نمایش رشته‌ای از اشیاء کلاس‌های سفارشی و مشخص کردن نحوه کار اشیاء کلاس‌های شما با عملگرهای داخلی در پایتون (فرآیندی به نام 
     overload
    کردن عملگر).<br>
    <span style="color:#8e24aa;">• </span>مقدمه‌ای بر سلسله مراتب کلاس 
    exception
    در پایتون و ایجاد کلاس‌های 
    exception
    سفارشی.<br>
    <span style="color:#8e24aa;">• </span>تست کردن کد با ماژول  doctest در کتابخانه استاندارد پایتون<br>
    <span style="color:#8e24aa;">• </span>چگونه پایتون از namespace ها برای تعیین حوزه شناسه‌ها استفاده می‌کند.<br>
</div>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.2 <span style="color:#F50057;">کلاس سفارشی Account</span></h1> <a id='3'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کارمان را با کلاس حساب بانکی به نام 
    Account
    شروع می‌کنیم؛ این کلاس، نام صاحب حساب و مانده حساب را در خود نگه می‌دارد. یک کلاس حساب بانکی واقعی احتمالا حاوی اطلاعات زیاد دیگری مانند آدرس، تاریخ تولد، شماره تلفن، شماره حساب و سایر موارد می‌باشد. کلاس 
    Account
    واریزی‌ها و برداشت‌ها را قبول می‌کند و این دو به ترتیب موجب افزایش موجودی و یا کاهش آن می‌شوند.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.2.1 <span style="color:#8e24aa;">Test-Driving Class Account</span></h2> <a id='4'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر کلاس جدیدی که ایجاد می‌کنید به یک نوع داده جدید تبدیل می‌شود و می‌توان از آن برای ایجاد اشیاء استفاده کرد. این ویژگی یکی از دلایلی است که پایتون را به عنوان یک زبان قابل گسترش معرفی می‌کند. قبل از اینکه به تعریف کلاس 
    Account
    بپردازیم، قابلیت‌های آن را نشان می‌دهیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">import
    کردن کلاس‌های 
    Account
    و 
    Decimal
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای استفاده از کلاس 
    Account
    جدید، 
    IPython session
    خود 
    را از پوشه 
    ch10 examples
    راه‌اندازی کرده و سپس کلاس 
    Account
    را 
    import
    کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">account</span><span class="w"> </span><span class="kn">import</span> <span class="n">Account</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    Account
    موجودی حساب را به عنوان یک داده نوع 
    Decimal
    ذخیره و دست‌کاری می‌کند، بنابراین کلاس 
    Decimal
    را هم 
    import
    می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">ایجاد یک شیء 
    Account
    با یک 
    Constructor Expression
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای ایجاد یک شیء 
    Decimal
    می‌توانیم از کد زیر استفاده کنیم:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;12.34&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این دستور به عنوان 
    constructor expression
    شناخته می‌شود زیرا شیئی از کلاس را ایجاد کرده و آن را مقداردهی اولیه می‌کند. این رویکرد شبیه روش ساخت یک خانه از نقشه اولیه و سپس رنگ‌آمیزی آن با رنگ‌های موردنظر خریدار می‌باشد. 
    constructor expression
    اشیای جدیدی ایجاد می‌کند و داده‌های خود را با استفاده از آرگومان‌هایی که در داخل پرانتز مشخص شده‌اند، مقداردهی اولیه می‌کند. اگر هیچ آرگومانی هم وجود نداشته باشد، پرانتزهای بعد از نام کلاس اجباری است.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت با استفاده از 
    constructor expression
    یک شیء 
    Account
    ایجاد می‌کنیم و آن را با نام صاحب حساب (یک رشته) و مانده حساب (یک 
    Decimal
    ) مقداردهی اولیه می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="s1">&#39;John Green&#39;</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;50.00&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">دسترسی به نام صاحب حساب و مانده حساب
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در کد زیر به 
    attribute
    های 
    name
    و 
    balance
    شیء 
    Account
    دسترسی پیدا می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;John Green&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">balance</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Decimal(&#39;50.00&#39;)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">واریز پول به حساب
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    deposit
    در یک 
    Account
    مقدار مثبتی را برحسب دلار دریافت کرده و آن را به موجودی اضافه می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;25.53&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">balance</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Decimal(&#39;75.53&#39;)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">متدهای 
    Account
    اعتبارسنجی انجام می‌دهند
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متدهای
    Account
    آرگومان‌های خود را اعتبارسنجی می‌کنند. برای مثال اگر مقدار واریزی منفی باشد، متد 
    deposit
    یک استثنای 
    ValueError
    ایجاد می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-123.45&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">account1</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-123.45&#39;</span><span class="p">))</span>

<span class="nn">File ~/work/Python-for-Programmers-with-Introductory-AI-Case-Studies/Python-for-Programmers-with-Introductory-AI-Case-Studies/Chapters/10 - Object-Oriented-Programming/account.py:23,</span> in <span class="ni">Account.deposit</span><span class="nt">(self, amount)</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> <span class="c1"># if amount is less than 0.00, raise an exception</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span> <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">23</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;amount must be positive.&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

<span class="ne">ValueError</span>: amount must be positive.
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.2.2 <span style="color:#8e24aa;">تعریف کلاس 
    Account
</span></h2> <a id='5'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت تعریف کلاس 
    Account
    را بررسی می‌کنیم. کدهای مربوطه در فایل 
    <code>account.py</code>
    قرار دارد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">تعریف کردن کلاس
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تعریف کلاس با کلمه کلیدی 
    class
    (خط ۵) و به دنبال آن نام کلاس و کاراکتر دونقطه (:) شروع می‌شود. این خط 
    عنوان کلاس
    یا 
    class header 
    نامیده می‌شود. راهنمای سبک کدنویسی پایتون توصیه می‌کند در یک نام کلاس که از چند کلمه تشکیل شده است، هر کلمه را با یک حرف بزرگ شروع کنید (به عنوان مثال 
    CommissionEmployee
    ) هر دستور در 
    suite
    کلاس، تورفتگی یا 
    indentation
    دارد.
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># account.py</span>
<span class="sd">&quot;&quot;&quot;Account class definition.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Account</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Account class for maintaining a bank account balance.&quot;&quot;&quot;</span>
    
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر کلاس به طور معمول یک رشته توصیفی (خط ۶) از نوع 
    docstring
    را ارائه می‌دهد. در صورت ارائه، باید بلافاصله در خط یا خطوط بعد از عنوان کلاس ظاهر شود. برای مشاهده 
    docstring
    هر کلاس در 
    IPython
    ، نام کلاس و یک علامت سوال را تایپ کرده و سپس 
    Enter
    کنید:
</div>
<p><code>Account?</code></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">شناسه
    Account
    هم برای نام کلاس استفاده شده است و هم در دستور 
    constructor
    که متد 
    __init__
    از کلاس را برای ایجاد یک شیء 
    Account
    فراخوانی کرده است. به همین دلیل مکانیسم راهنمای 
    IPython
    هم 
    docstring ("Docstring:") 
    مربوط به کلاس و هم 
    docstring ("Init docstring:")
    مربوط به متد 
    __init__
    را نشان می‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">مقداردهی کردن اشیاء
    Account
    : متد 
     __init__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">دستور فلان در اسنیپت [۳] از قسمت قبلی:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="s1">&#39;John Green&#39;</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;50.00&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک شیء جدید ایجاد می‌کند و سپس داده‌های آن را با فراخوانی متد 
     __init__
    مقداردهی اولیه می‌کند. هر کلاس جدیدی که ایجاد می‌کنید، می‌تواند یک متد 
     __init__
    ارائه دهد و این متد نحوه مقداردهی اولیه 
    attribute
    های داده‌ای یک شیء را مشخص می‌کند. بازگشت مقداری غیر از 
    None
    از متد 
     __init__
    منجر به خطای 
    TypeError
    می‌شود. به یاد بیاورید که 
    None
    از هر تابع یا متدی که حاوی دستور 
     return
    نباشد، بازگردانده می‌شود. متد 
     __init__
    از کلاس 
    Account
    در صورت معتبر بودن 
    balance
    (خطوط ۸ - ۱۶)
    attribute
    های 
    balance
    و 
    name
    یک شیء 
    Account
    را مقداردهی اولیه می‌کند.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an Account object.&quot;&quot;&quot;</span>

        <span class="c1"># if balance is less than 0.00, raise an exception</span>
        <span class="k">if</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Initial balance must be &gt;= to 0.00.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که یک متد را برای یک شیء خاص فراخوانی می‌کنید، پایتون به طور ضمنی یک ارجاع را به عنوان اولین آرگومان متد به آن شیء ارسال می‌کند. به همین دلیل، باید تمامی متدهای یک کلاس حداقل یک پارامتر داشته باشند. طبق قرارداد، اکثر برنامه نویسان پایتون، اولین پارامتر یک متد را 
    self
    نام‌گذاری می‌کنند. متدهای یک کلاس باید از آن ارجاع (
    self
    ) برای دسترسی به 
    attribute
    ها و سایر متدهای شیء استفاده کنند. علاوه بر این، 
    متد 
     __init__
    از کلاس 
    Account
    پارامترهای مربوط به 
    name
    و 
    balance
    را مشخص می‌کند.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">دستور
    if
    پارامتر 
    balance
    را اعتبارسنجی می‌کند. اگر مقدار 
    balance
    کمتر از ۰.۰۰ باشد، 
    __init__
    یک خطای 
    ValueError
    ایجاد می‌کند و متد 
    __init__
    خاتمه می‌یابد. در غیر این صورت، این متد یک شیء جدید 
    Account
    ایجاد کرده و 
    attribute
    های 
    name
    و 
    balance
    را مقداردهی می‌کند.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که یک شیء از کلاس 
    Account
    ایجاد می‌شود، هنوز هیچ 
    attribute
    ندارد. این 
    attribute
    ها از طریق دستور انتساب و به صورت پویا به شیء اضافه می‌شوند:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">attribute_name</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های پایتون ممکن است تعداد زیادی متدهای ویژه (
    special methods
    ) تعریف کنند، مانند 
     __init__
    ، این متدها با استفاده از دو خط زیرین (__) در ابتدا نام متد مشخص می‌شوند. کلاس 
    object
    در پایتون که بعدا در این فصل بحث خواهیم کرد، متدهای ویژه‌ای را تعریف می‌کند که برای همه اشیاء پایتون قابل دسترس هستند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">متد 
    deposit
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    deposit
    از کلاس
    Account
    مبلغ مثبتی را به 
    balance
    حساب اضافه می‌کند. اگر آرگومان 
    amount
    کمتر از ۰.۰۰ باشد، این متد یک خطای 
    ValueError
    ایجاد می‌کند و نشان می‌دهد که فقط مقادیر مثبت برای 
    amount
    قابل قبول می‌باشد. اگر 
    amount
    معتبر باشد، سطر ۲۵ آن را به 
    balance
    شیء اضافه می‌کند.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deposit money to the account.&quot;&quot;&quot;</span>

        <span class="c1"># if amount is less than 0.00, raise an exception</span>
        <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;amount must be positive.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

</pre></div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.2.3 <span style="color:#8e24aa;">Composition: ارجاع به اشیاء به عنوان عضوی از کلاس‌ها
</span></h2> <a id='6'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک
    Account
    یک 
    name
    دارد و یک 
    Account
    یک 
    balance
    دارد. به یاد بیاورید که هرچیز در پایتون یک شیء است. این به آن معناست که 
    attribute
    های یک شیء، ارجاعی به اشیاء از کلاس‌های دیگر محسوب می‌شوند. به عنوان مثال، ویژگی 
    name
    یک شیء 
    Account
    یک ارجاع به یک شیء 
    string
    است و ویژگی 
    balance
    یک شیء 
    Account
    یک ارجاع به یک شیء 
    Decimal
    است. ارجاع به اشیاء از نوع داده‌های دیگر، نوعی قابلیت استفاده مجدد از نرم‌افزار است که به عنوان 
    composition
    شناخته می‌شود و گاهی اوقات به عنوان رابطه 
    ”has a“
    شناخته می‌شود. بعدا در این فصل در مورد وراثت بحث خواهیم کرد، وراثت روابط 
    ”is a“
    را ایجاد می‌کند. 
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.3 <span style="color:#F50057;">کنترل دسترسی به 
    Attribute
    ها</span></h1> <a id='7'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متدهای کلاس 
    Account
    آرگومان‌های خود را اعتبارسنجی می‌کنند تا مقدار 
    balance
    همیشه یک مقدار معتبر باشد - یعنی همیشه بزرگ‌تر یا برابر با ۰.۰۰ باشد. در مثال قبلی، از 
    attribute
    های 
    name
    و 
    balance
    فقط برای به دست آوردن مقادیر آن‌ها استفاده کردیم. مشخص شد که می‌توانیم از این 
     attribute
    ها برای تغییر مقادیر آن‌ها استفاده کنیم. شیء 
    Account
    را در جلسه 
    IPython
    زیر در نظر بگیرید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">account</span><span class="w"> </span><span class="kn">import</span> <span class="n">Account</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="s1">&#39;John Green&#39;</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;50.00&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">balance</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Decimal(&#39;50.00&#39;)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ابتدا 
    account1
    موجودی معتبری دارد. در ادامه برای ویژگی 
    balance
    یک مقدار منفی نامعتبر اختصاص می‌دهیم و سپس مقدار 
    balance
    را نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;-1000.00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">account1</span><span class="o">.</span><span class="n">balance</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Decimal(&#39;-1000.00&#39;)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">خروجی اسنیپت [۶] نشان می‌دهد که مقدار 
    balance
    از شیء 
    account1
    منفی است. همان طور که مشاهده می‌کنید برخلاف متدها، 
    attribute
    های داده نمی‌توانند مقادیری که به آن‌ها اختصاص می‌یابد را اعتبارسنجی کنند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Encapsulation
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">client code
    یک کلاس، کدی است که از اشیاء آن کلاس استفاده می‌کند. بیشتر زبان‌های برنامه نویسی شیءگرا این امکان را برای شما فراهم می‌کنند تا داده‌های یک شیء را از 
    client code
    کپسوله‌سازی کنید (یا مخفی کنید). در این زبان‌ها به چنین داده‌هایی، داده‌های 
    private
    می‌گویند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    قرارداد نام‌گذاری؛ زیرخط (_) در ابتدای نام
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پایتون داده 
    private
    ندارد. درعوض برای طراحی کلاس‌ها از قراردادهای نام‌گذاری استفاده می‌کنید و این قراردادها شما را به استفاده صحیح تشویق می‌کنند. طبق قرارداد، برنامه نویسان پایتون می‌دانند که نام هر 
    attribute
    که با زیرخط 
    (_)
    شروع شود، فقط برای استفاده داخل یک کلاس است. همان طور که در بخش بعدی می‌بینید، 
    client code
    برای تعامل با 
    attribute
    های داده‌ای که در داخل کلاس استفاده می‌شوند، باید از متد و ویژگی‌های کلاس استفاده کنند. ویژگی‌هایی که شناسه‌های آن‌ها با زیرخط 
    (_)
    شروع نمی‌شود، برای استفاده در 
    client code
    از دسترسی عمومی 
    برخوردار هستند. در بخش بعدی، یک کلاس 
    Time
    را تعریف کرده و از این قرارداد نام‌گذاری استفاده خواهیم کرد. با این حال، حتی وقتی از این قراردادها هم استفاده می‌کنیم، 
    attribute
    ها همیشه دردسترس هستند.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.4 <span style="color:#F50057;">property ها برای دسترسی به داده‌ها</span></h1> <a id='8'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت یک کلاس 
    Time
    ایجاد می‌کنیم که زمان را با فرمت ۲۴ ساعته ذخیره می‌کند. در این کلاس، ساعت در محدوده ۰ تا ۲۳ و دقیقه و ثانیه در محدوده ۰ تا ۵۹ ذخیره می‌شوند. برای این کلاس، 
    property
    هایی ارائه خواهیم داد که به نظر می‌رسد مانند 
    attribute
    های داده‌ای برای برنامه نویسان 
    client-code
    هستند ولی این 
    property
    ها نحوه دریافت و تغییر داده‌های یک شیء را کنترل می‌کنند. فرض می‌کنیم که سایر برنامه نویسان برای استفاده صحیح از اشیاء کلاس شما، از قراردادهای پایتون به درستی پیروی می‌کنند.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.4.1 <span style="color:#8e24aa;">Test-Driving Class Time
</span></h2> <a id='9'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قبل از اینکه به تعریف کلاس 
    Time
    بپردازیم، اجازه دهید قابلیت‌های آن را نشان دهیم. ابتدا اطمینان حاصل کنید که در پوشه 
    ch10
    هستید، سپس کلاس 
    Time
    را از فایل 
    timewithproperties.py
    ایمپورت (
    import
    ) کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">timewithproperties</span><span class="w"> </span><span class="kn">import</span> <span class="n">Time</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ایجاد یک شیء 
    Time
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ادامه یک شیء 
    Time
    ایجاد می‌کنیم. متد 
    __init__ 
    از کلاس 
    Time
    دارای پارامترهای 
    hour, minute و second
    می‌باشد و هر کدام دارای مقدار آرگومان پیش‌فرض صفر هستند. در اینجا، برای 
    hour
    و 
    minute
    مقدار مشخص می‌کنیم و 
    second
    مقدار پیش‌فرض صفر اختیار می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    نمایش یک شیء
    Time
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    Time
    برای نمایش رشته‌ای شیء 
    Time
    ، دو متد تعریف می‌کند. هنگامی که مانند اسنیپت [۳] یک متغیر را در 
    IPython
    ارزیابی می‌کنید، 
    IPython
    متد خاص 
     __repr__
    از شیء را برای تولید نمایش رشته‌ای شیء فراخوانی می‌کند. پیاده‌سازی ما برای متد 
     __repr__
    رشته‌ای با فرمت زیر ایجاد می‌کند: 
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time(hour=6, minute=30, second=0)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">علاوه بر این یک متد خاص به نام 
    __str__
    تعریف کردیم. زمانی که یک شیء به یک رشته تبدیل می‌شود، برای مثال زمانی که شیء را با تابع 
    print
    نمایش می‌دهید این متد فراخوانی می‌شود. اجرای متد 
    __str__
    که توسط ما تعریف شده است، یک رشته را با فرمت ۱۲ ساعته ایجاد می‌کند. اگر در یک کلاس متد 
    __str__
    تعریف نشود و یک شیء از کلاس به رشته تبدیل شود، به جای آن متد 
     __repr__
    فراخوانی می‌شود.
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">wake_up</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6:30:00 AM
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
گرفتن یک 
    Attribute
    از طریق یک 
    Property
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    time
    ویژگی‌های 
    hour, minute و second
    را فراهم می‌کند. این 
    property
    ها برای گرفتن و یا تغییر داده‌های شیء، تسهیلاتی برای 
    attribute
    های داده‌ای فراهم می‌کنند. به هر صورت، همان طور که مشاهده خواهید کرد 
    property
    ها همانند متدها پیاده‌سازی می‌شوند، بنابراین ممکن است حاوی منطق اضافی باشند. برای مثال ممکن است برای برگرداندن یک 
    attribute
    داده‌ای فرمتی را تخصیص دهند و یا برای تغییر 
    attribute
    داده با یک مقدار جدید، فرآیند اعتبارسنجی را برای این مقدار جدید انجام دهند. در اینجا مقدار 
    hour
    شیء 
    wake_up
    را دریافت می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اگرچه به نظر می‌رسد که این اسنیپت به سادگی مقدار 
    attribute
    داده 
    hour
    را به دست می‌آورد، اما در واقع یک فراخوانی متد محسوب می‌شود و این فراخوانی مقدار یک 
    attribute
    داده‌ای را برمی‌گرداند (همان طور که در بخش بعدی خواهید دید آن را 
    hour_
    نام‌گذاری کرده‌ایم).
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">تنظیم 
    Time
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">با استفاده از متد 
    set_time
    از شیء 
    Time
    می‌توانید زمان جدیدی را اختصاص دهید. متد 
    set_time
    همانند 
     __init__
    دارای پارامترهای 
    hour, minute و second
    و با مقادیر پیش‌فرض صفر می‌باشند.
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time(hour=7, minute=45, second=0)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
تنظیم
    یک 
    Attribute
    از طریق یک 
    Property
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    Time
    از تنظیم مقادیر 
    hour, minute و second
    به طور جداگانه و از طریق‌های آن‌ها پشتیبانی می‌کند. کد زیر مقدار 
    hour
    را به ۶ تنظیم می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time(hour=6, minute=45, second=0)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اگرچه به نظر می‌رسد که اسنیپت [۸] به سادگی مقداری را به یک 
    attribute
    داده‌ای اختصاص می‌دهد، اما در واقع یک متد با نام 
    hour
    و با آرگومان ۶ فراخوانی می‌کند. این متد مقدار آرگومان را اعتبارسنجی کرده و آن را در 
    attribute
    داده‌ای مربوطه قرار می‌دهد (همان طور که در بخش بعدی خواهید دید آن را 
    hour_
    نام‌گذاری کرده‌ایم).
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
تلاش برای تنظیم یک مقدار نامعتبر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای اثبات این که 
    property
    های کلاس 
    Time
    مقادیری را که به آن‌ها اختصاص می‌دهید اعتبارسنجی می‌کنند، سعی می‌کنیم مقدار نامعتبری به ویژگی 
    hour
    اختصاص دهیم و این عمل منجر به ایجاد یک خطای 
    ValueError
    می‌شود:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="mi">100</span>

<span class="nn">File ~/work/Python-for-Programmers-with-Introductory-AI-Case-Studies/Python-for-Programmers-with-Introductory-AI-Case-Studies/Chapters/10 - Object-Oriented-Programming/timewithproperties.py:22,</span> in <span class="ni">Time.hour</span><span class="nt">(self, hour)</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Set the hour.&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">24</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">22</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hour (</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s1">) must be 0-23&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hour</span> <span class="o">=</span> <span class="n">hour</span>

<span class="ne">ValueError</span>: Hour (100) must be 0-23
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.4.2 <span style="color:#8e24aa;">تعریف کلاس 
    Time
</span></h2> <a id='10'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تا اینجای کار کلاس 
    Time
    را در عمل دیدیم، در این قسمت نگاهی به تعریف آن می‌اندازیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس 
    Time
    : متد 
     __init__ 
    با مقادیر پیش‌فرض پارامترها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
     __init__ 
    از کلاس 
    Time
    پارامترهای 
    hour, minute و second
    را با مقادیر پیش‌فرض صفر مشخص می‌کند. به یاد آورید همانند متد 
     __init__ 
    در کلاس 
    Account
    پارامتر 
    self
    به یک شیء 
    Time
    در حال مقداردهی، ارجاع می‌کند. دستوراتی که حاوی 
    self.hour, self.minute و self.second
    هستند، 
    attribute
    های 
    hour, minute و second
    را برای شیء جدید (
    self
    ) از جنس 
    Time
    ایجاد می‌کنند. به هر صورت، این دستورات در واقع متدهایی را فراخوانی می‌کنند که 
    property
    های 
    hour, minute و second
    را پیاده‌سازی می‌کنند. (سطرهای ۱۳ تا ۵۰). در ادامه این متدها 
    attribute
    هایی به نام 
     hour_
    , minute_ 
    و 
    second_
    ایجاد می‌کنند که فقط برای استفاده در داخل کلاس درنظر گرفته شده‌اند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># time1.py</span>
<span class="sd">&quot;&quot;&quot;Class Time with read-write properties.&quot;&quot;&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Time</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class Time with read-write properties.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize each attribute.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">hour</span>  <span class="c1"># 0-23</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="n">minute</span>  <span class="c1"># 0-59</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">second</span>  <span class="c1"># 0-59</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس Time:
    ویژگی 
    (Property)
    hour
    با قابلیت خواندن و نوشتن
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">خطوط ۱۳ تا ۲۴ یک 
    property
    با قابلیت خواندن - نوشتن و با دسترسی عمومی به نام 
    hour
    تعریف می‌کند، این 
    property
    یک 
    attribute
    داده‌ای به نام 
     hour_
    را دست‌کاری می‌کند. مطابق قرارداد نام‌گذاری، نام این 
    attribute
    با زیرخط شروع می‌شود و معرف آن است که 
    client code
    نباید مستقیما به 
    hour_
    دسترسی داشته باشد. همان طور که در قسمت قبلی و در اسنیپت‌های بخش [۵] و [۸] مشاهده کردید، برای برنامه نویسانی که با اشیاء 
    Time
    کار می‌کنند، 
    property
    ها مانند 
    attribute
    های داده‌ای به نظر می‌رسند. با این حال، توجه کنید که 
    property
    ها مانند متدها پیاده‌سازی می‌شوند. هر 
    property
    با یک متد 
    getter
    یک 
    attribute
    داده‌ای به دست می‌آورد (برمی‌گرداند) و می‌تواند به صورت اختیاری یک متد 
    setter
    برای مقداردهی کردن مقدار یک 
    attribute
    داده‌ای داشته باشد.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hour</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the hour.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hour</span>

    <span class="nd">@hour</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hour</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hour</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the hour.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">24</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Hour (</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s1">) must be 0-23&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_hour</span> <span class="o">=</span> <span class="n">hour</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">دکوراتور 
    property@
    که قبل از متد 
    getter
    ویژگی قرار می‌گیرد، فقط پارامتر 
    self
    را دریافت می‌کند. در پشت صحنه، یک دکوراتور کدی را به تابع مربوطه اضافه می‌کند - در این حالت کدی را اضافه می‌کند تا تابع 
    hour
    با 
    attribute syntax
    کار کند. نام متد 
    getter
    با نام 
    property
    یکی است. متد 
    getter
    مقدار 
    attribute
    داده‌ای 
     hour_
    را برمی‌گرداند. 
    client-code
    زیر متد 
    getter
    را فراخوانی می‌کند:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">همان طور که به زودی خواهید دید، می‌توان از متد 
    getter
    در داخل یک کلاس استفاده کرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک دکوراتور به فرم 
    property_name.setter@
    (در اینجا 
    hour.setter@
    ) قبل از متد 
    setter
    ویژگی قرار می‌گیرد. این متد دو پارامتر دریافت می‌کند، اولی 
    self
    و دومی 
    hour
    که نشان‌دهنده مقداری است که به 
    property
    اختصاص داده می‌شود. اگر مقدار پارامتر 
    hour
    معتبر باشد، این متد آن را به خصلت 
    hour_
    از شیء 
    self
    اختصاص می‌دهد. درغیراین صورت، این متد خطای 
    ValueError
    را ایجاد می‌کند. دستور انتساب در 
    client-code
    زیر با فراخوانی متد 
    setter
    مقداری را به 
    property
    اختصاص می‌دهد:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="mi">8</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">علاوه براین، متد 
    setter
    را داخل کلاس و در خط ۹ از متد 
     __init__
    فراخوانی کردیم:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">hour</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">استفاده از 
    setter
    این امکان را به ما داد تا آرگومان 
    hour
    متد 
    __init__
    را قبل از ایجاد و مقداردهی کردن خصلت 
    hour_
    اعتبارسنجی کنیم، این اتفاق اولین بار زمانی رخ می‌دهد که متد 
    setter
    از ویژگی 
    hour
    در نتیجه خط ۹ اجرا می‌شود. یک 
    property
    با قابلیت خواندن و نوشتن دو متد 
    getter
    و 
    setter
    را دارد ولی یک 
    property
    با قابلیت فقط خواندن، تنها متد 
    getter
    را دارد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس Time:
    ویژگی 
    (Property)
    minute و second
    با قابلیت خواندن و نوشتن
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">خطوط ۲۶ تا ۳۷ و ۳۹ تا ۵۰ ویژگی‌های 
    minute
    و 
    second
    را با قابلیت‌های خواندن و نوشتن تعریف می‌کنند. 
    setter
    هر 
    property
    تضمین می‌کند که آرگومان دوم آن در دامنه ۰ تا ۵۹ (محدوده معتبر برای مقادیر دقیقه و ثانیه) قرار می‌گیرد:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">minute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the minute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minute</span>

    <span class="nd">@minute</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">minute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minute</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the minute.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">minute</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Minute (</span><span class="si">{</span><span class="n">minute</span><span class="si">}</span><span class="s1">) must be 0-59&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_minute</span> <span class="o">=</span> <span class="n">minute</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">second</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the second.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_second</span>

    <span class="nd">@second</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">second</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">second</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the second.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">second</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Second (</span><span class="si">{</span><span class="n">second</span><span class="si">}</span><span class="s1">) must be 0-59&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_second</span> <span class="o">=</span> <span class="n">second</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس Time:
متد
   set_time 
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد
    set_time
    را به عنوان یک روش راحت برای تغییر هر سه 
    attribute
    با یک فراخوانی متد ارائه کرده‌ایم. خطوط ۵۴ تا ۵۶ 
    setter
    را برای 
    property
    های 
    hour, minute و second
    فراخوانی می‌کنند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="nf">set_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set values of hour, minute, and second.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="o">=</span> <span class="n">hour</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minute</span> <span class="o">=</span> <span class="n">minute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">second</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس Time:
متد ویژه 
     __repr__ 
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که یک شیء را به تابع داخلی 
    repr
    منتقل می‌کنید - که به طور ضمنی هنگام ارزیابی یک متغیر در یک جلسه 
    IPython
    اتفاق می‌افتد - متد ویژه‌ای از کلاس مربوطه موسوم به 
    __repr__ 
    برای به دست آوردن نمایش رشته‌ای از آن شیء فراخوانی می‌شود:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return Time string for repr().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Time(hour=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">hour</span><span class="si">}</span><span class="s1">, minute=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="si">}</span><span class="s1">, &#39;</span> <span class="o">+</span> 
                <span class="sa">f</span><span class="s1">&#39;second=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">مستندات پایتون یادآوری می‌کنند که 
    __repr__ 
    نمایش رشته‌ای یک شیء را به صورت یک رشته قراردادی برمی‌گرداند. به طور معمول این رشته مانند یک 
    constructor expression
    به نظر می‌رسد که شیء 
    را ایجاد و مقداردهی اولیه می‌کند، مانند:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">خروجی خط بالا شبیه 
    constructor expression
    در اسنیپت [۲] در بخش قبلی است. در پایتون یک تابع داخلی به نام 
    eval
    وجود دارد که می‌تواند رشته قبلی را به عنوان آرگومان دریافت کند و از آن برای ایجاد و مقداردهی اولیه یک شیء 
    Time
    با مقادیر مشخص شده در رشته استفاده کند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
کلاس Time:
متد ویژه 
      __str__ 
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای کلاس 
    Time
    خودمان نیز متد ویژه‌ای به نام 
    __str__
    تعریف می‌کنیم. این متد به طور ضمنی هنگامی که یک شیء را با تابع درونی 
    str
    به یک رشته تبدیل می‌کنید، فراخوانی می‌شود، برای مثال مانند زمانی که یک شیء را با 
    print
    نمایش می‌دهید و یا صراحتا 
    str
    را فراخوانی می‌کنید. پیاده‌سازی ما برای 
    __str__
    رشته‌ای را در قالب ساعت ۱۲ ساعته مانند 
    '7:59:59 AM' 
    یا 
    '12:30:45 PM'
    ایجاد می‌کنید.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Print Time in 12-hour clock format.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">((</span><span class="s1">&#39;12&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="o">%</span> <span class="mi">12</span><span class="p">))</span> <span class="o">+</span> 
                <span class="sa">f</span><span class="s1">&#39;:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">minute</span><span class="si">:</span><span class="s1">0&gt;2</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">second</span><span class="si">:</span><span class="s1">0&gt;2</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> 
                <span class="p">(</span><span class="s1">&#39; AM&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">12</span> <span class="k">else</span> <span class="s1">&#39; PM&#39;</span><span class="p">))</span>

</pre></div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.4.3 <span style="color:#8e24aa;">نکاتی در مورد طراحی کلاس Time
</span></h2> <a id='11'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت برخی از موضوعات طراحی کلاس را در خصوص کلاس 
    Time
    بررسی می‌کنیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Interface
    یک کلاس
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    property
    ها و متدهای کلاس 
    Time
    ، اینترفیس عمومی کلاس را تعریف می‌کنند، به بیانی دیگر به مجموعه‌ای از 
    property
    ها و متدهایی که برنامه نویسان برای تعامل با اشیاء یک کلاس باید استفاده کنند، اینترفیس اطلاق می‌شود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Attribute
    ها همیشه قابل دسترس هستند
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اگرچه ما یک اینترفیس خوش‌تعریف ارائه کردیم، اما پایتون مانع از دست‌کاری مستقیم 
    attribute
    های داده‌ای مانند 
     _hour, _minute و _second
    نمی‌شود:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">timewithproperties</span><span class="w"> </span><span class="kn">import</span> <span class="n">Time</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span> <span class="o">=</span> <span class="n">Time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">_hour</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">_hour</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time(hour=100, minute=45, second=30)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پس از اسنیپت [۴] شیء 
    wake_up
    شامل داده نامعتبر می‌باشد. بر خلاف بسیاری از زبان‌های برنامه نویسی شیءگرای دیگر، همانند 
    ++C, Java و #C
    در پایتون نمی‌توان 
    attribute
    های داده‌ای را از 
    client code
    پنهان کرد. مستندات پایتون می‌گوید:
    <b>
       هیچ چیز در پایتون امکان پنهان کردن داده‌ها را ممکن نمی‌کند - همه این‌ها بر اساس قرارداد است. 
    </b>
    <br>
    <a href="https://docs.python.org/3/tutorial/classes.html#random-remarks">https://docs.python.org/3/tutorial/classes.html#random-remarks</a>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
نمایش داده‌های داخلی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">انتخاب کردیم که زمان را به عنوان سه مقدار صحیح برای ساعت، دقیقه و ثانیه نشان دهیم. این کاملا منطقی است که زمان را برحسب تعداد ثانیه‌ها از نیمه‌شب هم نشان دهیم. اگرچه باید 
    property
    های 
    hour, minute و second
    را دوباره پیاده‌سازی کنیم ولی برنامه نویسان می‌توانند از همان اینترفیس استفاده کرده و بدون آگاهی از این تغییرات، نتایج یکسانی بگیرند. انجام این تغییر را به شما واگذار می‌کنیم تا نشان دهید که  
    client code
    که از اشیاء 
    Time
    استفاده می‌کند نیاز به تغییر ندارد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
تکامل جزئیات پیاده‌سازی یک کلاس
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگام طراحی کلاس، قبل از اینکه آن کلاس را در اختیار سایر برنامه نویسان قرار دهید، به دقت اینترفیس کلاس را بررسی کنید. در حالت ایده‌آل، باید اینترفیس را طوری طراحی کنید که در صورت به روزرسانی جزئیات پیاده‌سازی کلاس، کدهای موجود نیاز به تغییر نداشته باشند؛ نمایش داده‌های داخلی یا نحوه اجرای بدنه متد، مثال‌هایی از جزئیات پیاده‌سازی محسوب می‌شوند. اگر برنامه نویسان پایتون از قرارداد پیروی کنند، به 
    attribute
    هایی که با زیرخط شروع می‌شوند دسترسی پیدا نمی‌کنند؛ بنابراین طراحان کلاس می‌توانند جزئیات پیاده‌سازی کلاس را بدون نیاز به تغییر در 
    client code
    اصلاح کنند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
Properties
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">ممکن است به نظر برسد که وجود 
    setter
    و 
    getter
    در 
    property
    ها هیچ منفعتی در دسترسی مستقیم به 
    attribute
    های داده‌ای ندارند، اما تفاوت‌های ظریفی وجود دارد. به نظر می‌رسد یک 
    getter
    به 
    client code
    اجازه می‌دهد داده‌ها را بخوانند، اما 
    getter
    می‌تواند فرمت داده‌ها را کنترل کند. یک 
    setter
    می‌تواند هر تلاش برای تغییر مقدار یک 
    attribute
    های داده‌ای را موشکافی کند تا از تخصیص داده‌های نامعتبر جلوگیری کند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
متدهای کمکی یا 
    Utility Methods
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">لازم نیست همه متدها به عنوان بخشی از اینترفیس کلاس عمل کنند. بعضی از آن‌ها متدهای کمکی محسوب می‌شوند و فقط در داخل کلاس مورد استفاده قرار می‌گیرند و قرار نیست بخشی از اینترفیس عمومی کلاس باشند و توسط کلاینت استفاده شوند. در ابتدای نام این متدها باید یک زیرخط قرار بگیرد. در سایر زبان‌های شیءگرا مانند 
    C++, 
    Java 
    و 
    #C
    این متدها معمولا به عنوان متدهای خصوصی پیاده‌سازی می‌شوند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
ماژول 
    datetime
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در توسعه حرفه‌ای پایتون، به جای ایجاد کلاس‌های خود برای نشان دادن زمان 
و تاریخ، معمولا از قابلیت‌های ماژول 
    datetime
    در کتابخانه استاندارد پایتون استفاده می‌کنید. برای اطلاعات بیشتر در مورد ماژول 
    datetime
    به آدرس زیر مراجعه کنید:
    <br>
    <a href="https://docs.python.org/3/library/datetime.html">https://docs.python.org/3/library/datetime.html</a>
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.5 <span style="color:#F50057;">شبیه سازی Private Attribute ها</span></h1> <a id='12'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در زبان‌های برنامه نویسی مانند 
    C++, Java و #C
    کلاس‌ها به صراحت می‌گویند که کدام اعضای کلاس به طور عمومی در دسترس هستند. اعضای کلاسی که ممکن است خارج از تعریف کلاس قابل دسترسی نباشند، خصوصی هستند و فقط در کلاسی که آن‌ها را تعریف می‌کنند قابل مشاهده هستند. برنامه نویسان پایتون اغلب از 
    attribute
    های خصوصی برای داده‌ها یا متدهای کمکی استفاده می‌کنند. این اعضای خصوصی برای کارهای داخلی یک کلاس ضروری هستند ولی بخشی از اینترفیس عمومی کلاس محسوب نمی‌شوند. همان طور که مشاهده کردید، 
    attribute
    های اشیاء در پایتون همیشه قابل دسترسی هستند. با این حال، پایتون یک قرارداد نام‌گذاری برای 
    attribute
    های خصوصی دارد. فرض کنید بخواهیم یک شیء از کلاس 
    Time
    ایجاد کنیم و از دستور انتساب زیر جلوگیری کنیم:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">_hour</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">دستور بالا مقدار 
    hour
    را با یک مقدار نامعتبر مقداردهی می‌کند. به جای استفاده از نام 
    hour_
    می‌توانید از نام 
    hour__
    استفاده کنید. این قرارداد نشان می‌دهد که 
    hour__
    خصوصی است و برای کلاینت‌های کلاس قابل دسترسی نیست. پایتون برای جلوگیری از دسترسی کلاینت‌ها به 
    attribute
    های خصوصی، نام آن‌ها را با قراردادن نام 
    attribute
    با 
    ClassName_
    تغییر می‌دهد، برای مثال نام 
    hour__
    به نام 
    Time__hour_
    تبدیل می‌شود. به این کار 
    name mangling
    می‌گویند. اگر تلاش کنید با دستور انتساب زیر مقداری را تخصیص دهید،
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span><span class="n">__hour</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پایتون یک خطای 
    AttributeError
    ایجاد می‌کند و نشان می‌دهد کلاس 
     attribute
    به نام 
     hour__
    ندارد. به زودی این مطلب را نشان خواهیم داد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
تکمیل خودکار 
    IPython
    فقط 
    Attribute
    های عمومی را نشان می‌دهد
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">علاوه بر این، 
    IPython
    خصلت‌هایی را که با یک یا دو زیرخط شروع می‌شوند را نشان نمی‌دهد زمانی‌که بخواهید با زدن کلید 
    Tab
    کد زیر را به طور خودکار تکمیل کنید:
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">wake_up</span><span class="o">.</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">فقط 
    attribute
    هایی که بخشی از اینترفیس عمومی شیء 
    wake_up
    هستند، در لیست تکمیل خودکار 
    IPython
    نمایش داده می‌شوند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
نشان دادن 
    Attribute
    های خصوصی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای نشان دادن 
    name mangling
    کلاس 
    PrivateClass
    را با یک 
    attribute
    داده‌ای عمومی به نام 
    public_data
    و یک 
    attribute
    داده‌ای خصوصی به نام 
    private_data__
    در نظر بگیرید:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># private.py</span>
<span class="sd">&quot;&quot;&quot;Class with public and private attributes.&quot;&quot;&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PrivateClass</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class with public and private attributes.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the public and private attributes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_data</span> <span class="o">=</span> <span class="s2">&quot;public&quot;</span>  <span class="c1"># public attribute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__private_data</span> <span class="o">=</span> <span class="s2">&quot;private&quot;</span>  <span class="c1"># private attribute</span>

</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت یک شیء از کلاس 
    PrivateData
    می‌سازیم تا این 
    attribute
    های داده‌ای را نشان دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">private</span><span class="w"> </span><span class="kn">import</span> <span class="n">PrivateClass</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_object</span> <span class="o">=</span> <span class="n">PrivateClass</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اسنیپت زیر نشان می‌دهد که می‌توانیم مستقیما به 
    public_data
    دسترسی پیدا کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_object</span><span class="o">.</span><span class="n">public_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;public&#39;
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در هر صورت هنگامی که بخواهیم در اسنیپت زیر مستقیما به 
    private_data__
    دسترسی پیدا کنیم، با یک خطای 
    AttributeError
    مواجه می‌شویم و این نشان می‌دهد که کلاس 
    attribute
    با این نام ندارد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_object</span><span class="o">.</span><span class="n">__private_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">my_object</span><span class="o">.</span><span class="n">__private_data</span>

<span class="ne">AttributeError</span>: &#39;PrivateClass&#39; object has no attribute &#39;__private_data&#39;
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">از آنجائی که پایتون نام 
    attribute
    را تغییر داده است، این اتفاق رخ می‌دهد. متاسفانه، 
    private_data__
    هنوز به طور غیرمستقیم قابل دسترسی است.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.6 <span style="color:#F50057;">مورد مطالعاتی: شبیه‌سازی برزدن ورق و پخش ورق</span></h1> <a id='13'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">مثال بعدی ما دو کلاس سفارشی نشان می‌دهد و می‌توانید از آن‌ها برای بر زدن و پخش کردن ورق با یک دسته کارت استفاده کنید. کلاس
    Card
    نشان‌دهنده یک کارت بازی است که دارای یک صورت 
    ('Ace', '2', '3', …, 'Jack', 'Queen', 'King')
    و یک خال 
    ('Hearts', 'Diamonds', 'Clubs', 'Spades')
    می‌باشد. کلاس 
    DeckOfCards
    یک دست ورق ۵۲ کارتی را به عنوان لیستی از اشیاء 
    Card
    نشان می‌دهد. ابتدا این کلاس‌ها را در یک 
    IPython session
    تست خواهیم کرد تا قابلیت بر زدن کارت و پخش کارت را نشان دهیم. در ادامه کارت‌ها را به صورت متن نشان می‌دهیم. سپس به تعاریف کلاس نگاه خواهیم کرد. در انتها، در یک  
    IPython session
    دیگر با استفاده از 
    Matplotlib
    ،  کارت‌ها را به صورت تصویر نشان خواهیم داد. به شما نشان خواهیم داد که چگونه می‌توانید تصاویر کارت‌ها را با ظاهری زیبا تهیه کنید.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.6.1 <span style="color:#8e24aa;">Test-Driving Classes Card and DeckOfCards
</span></h2> <a id='14'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قبل از بررسی کلاس‌های 
    Card
    و 
    DeckOfCards
    با استفاده از یک 
    IPython session
    قابلیت‌های این کلاس‌ها را نشان خواهیم داد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
ایجاد کارت‌ها، بر زدن کارت‌ها و پخش کارت‌ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ابتدا کلاس 
    DeckOfCards
    را از 
    deck.py
    ایمپورت 
    (import)
    کرده و یک شیء از این کلاس ایجاد کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">deck</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeckOfCards</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span> <span class="o">=</span> <span class="n">DeckOfCards</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    __init__
    در کلاس 
    DeckOfCards
    تعداد ۵۲ شیء 
    Card
    ایجاد می‌کند. این ۵۲ شیء برحسب خال و در هر خال برحسب برگه صورت مرتب می‌شوند. با استفاده از تابع 
    print
    برای شیء 
    deck_of_cards
    می‌توانید این موضوع را ببینید، این تابع متد 
    __str__ 
    در کلاس 
    DeckOfCards
    را برای نمایش رشته‌ای 
    deck
    فراخوانی می‌کند. هر ردیف را از چپ به راست بخوانید تا تایید کنید همه کارت‌ها به ترتیب خال نمایش داده می‌شوند 
    (Hearts, 
Diamonds, Clubs and Spades)
    :
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">deck_of_cards</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ace of Hearts      2 of Hearts        3 of Hearts        4 of Hearts        
5 of Hearts        6 of Hearts        7 of Hearts        8 of Hearts        
9 of Hearts        10 of Hearts       Jack of Hearts     Queen of Hearts    
King of Hearts     Ace of Diamonds    2 of Diamonds      3 of Diamonds      
4 of Diamonds      5 of Diamonds      6 of Diamonds      7 of Diamonds      
8 of Diamonds      9 of Diamonds      10 of Diamonds     Jack of Diamonds   
Queen of Diamonds  King of Diamonds   Ace of Clubs       2 of Clubs         
3 of Clubs         4 of Clubs         5 of Clubs         6 of Clubs         
7 of Clubs         8 of Clubs         9 of Clubs         10 of Clubs        
Jack of Clubs      Queen of Clubs     King of Clubs      Ace of Spades      
2 of Spades        3 of Spades        4 of Spades        5 of Spades        
6 of Spades        7 of Spades        8 of Spades        9 of Spades        
10 of Spades       Jack of Spades     Queen of Spades    King of Spades     
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعد، کارت‌ها را بر زده و مجددا اشیاء 
    deck_of_cards
    را نمایش می‌دهیم. ما 
    seed
    برای تکرارپذیری مشخص نکردیم، بنابراین هربار که کارت‌ها را بر بزنید، نتایج متفاوتی خواهید گرفت:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span><span class="o">.</span><span class="n">shuffle</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">deck_of_cards</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7 of Spades        3 of Clubs         King of Spades     Queen of Clubs     
Jack of Clubs      King of Clubs      3 of Hearts        9 of Diamonds      
Queen of Diamonds  2 of Diamonds      Ace of Diamonds    2 of Hearts        
5 of Spades        King of Diamonds   10 of Diamonds     4 of Spades        
8 of Spades        9 of Spades        6 of Clubs         4 of Diamonds      
King of Hearts     3 of Diamonds      Ace of Clubs       8 of Diamonds      
7 of Hearts        Queen of Spades    Jack of Diamonds   10 of Clubs        
4 of Hearts        10 of Hearts       8 of Clubs         2 of Clubs         
Queen of Hearts    6 of Spades        2 of Spades        7 of Clubs         
6 of Hearts        Jack of Spades     7 of Diamonds      10 of Spades       
9 of Hearts        5 of Clubs         6 of Diamonds      Jack of Hearts     
Ace of Hearts      3 of Spades        9 of Clubs         5 of Hearts        
5 of Diamonds      Ace of Spades      8 of Hearts        4 of Clubs         
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
پخش کردن کارت‌ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در هر لحظه با فراخوانی متد 
    deal_card
    می‌توانیم یک کارت پخش کنیم. 
    IPython
    برای تولید خروجی رشته‌ای که در اعلان 
    []Out
    نشان داده شده است، متد 
    __repr__
    از شیء 
    Card
    برگردانده شده را فراخوانی می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span><span class="o">.</span><span class="n">deal_card</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;7&#39;, suit=&#39;Spades&#39;)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
سایر 
    Feature
    های کلاس 
    Card
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای نشان دادن متد 
    __str__
    از کلاس 
    Card
    کارت دیگری پخش می‌کنیم و آن را به تابع داخلی 
    str
    ارسال می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span> <span class="o">=</span> <span class="n">deck_of_cards</span><span class="o">.</span><span class="n">deal_card</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3 of Clubs&#39;
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر کارت دارای یک نام فایل تصویری مربوطه است که می‌توانید از طریق ویژگی فقط خواندنی 
    image_name
    به آن دسترسی پیدا کنید. به زودی هنگامی که کارت‌ها را با تصاویر نمایش می‌دهیم از این 
    property
    استفاده خواهیم کرد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">image_name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3_of_Clubs.png&#39;
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.6.2 <span style="color:#8e24aa;">کلاس Card: مقدمه‌ای بر Attribute های کلاس
</span></h2> <a id='15'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر شیء 
    Card
    شامل سه ویژگی رشته‌ای است که نشان‌دهنده 
    face, suit و image_name
    آن 
    Card
    می‌باشد. همان‌طور که در 
    IPython session
    بخش قبلی مشاهده کردید، کلاس 
    Card
    متدهایی برای مقداردهی اولیه و نمایش‌های مختلف رشته‌ای دارد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
Class Attributes FACES and SUITS
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر یک از اشیاء یک کلاس، کپی مخصوص به خود از 
    attribute
    های داده‌ای کلاس را دارد. به عنوان مثال، هر شیء 
    Account
    خصلت‌های 
    name
    و 
    balance
    مخصوص به خود را دارد. گاهی اوقات، یک 
    attribute
    باید میان همه اشیاء یک کلاس به اشتراک گذاشته شود. یک 
    attribute
    کلاس (همچنین یک متغیر کلاس نامیده می‌شود) اطلاعات کلاس را نشان می‌دهد. این 
    attribute
    مربوط به کلاس است و به یک شیء خاصی از آن کلاس تعلق ندارد. کلاس 
    Card
    دو 
    attribute
    مخصوص به کلاس را تعریف می‌کند (سطرهای ۵ تا ۷):
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span><b>FACES  </b>لیستی از نام صورت کارت‌ها است. <br>
    <span style="color:#8e24aa;">• </span><b>SUITS  </b>لیستی از نام خال کارت‌ها است. <br>
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># card.py</span>
<span class="sd">&quot;&quot;&quot;Card class that represents a playing card and its image file name.&quot;&quot;&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Card</span><span class="p">:</span>
    <span class="n">FACES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Ace&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span>
             <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;Queen&#39;</span><span class="p">,</span> <span class="s1">&#39;King&#39;</span><span class="p">]</span>
    <span class="n">SUITS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;Diamonds&#39;</span><span class="p">,</span> <span class="s1">&#39;Clubs&#39;</span><span class="p">,</span> <span class="s1">&#39;Spades&#39;</span><span class="p">]</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک 
    attribute
    کلاس را با اختصاص دادن مقداری به آن در تعریف کلاس تعریف می‌کنید و این کار را در هیچ یک از متدها یا 
    property
    های کلاس انجام نمی‌دهید (در این صورت، آن‌ها متغیرهای محلی محسوب می‌شوند). 
    FACES
    و 
    SUITS
    ثابت‌هایی هستند که قابلیت تغییر ندارند. به یاد داشته باشید که راهنمای سبک کدنویسی پایتون توصیه می‌کند ثابت‌های خود را تماما با حروف بزرگ نام‌گذاری کنید. به یاد بیاورید که پایتون ثابت‌های واقعی ندارد، بنابراین 
    FACES
    و 
    SUITS
    هنوز هم قابل تغییر هستند.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">از اعضای این لیست‌ها برای مقداردهی کردن هر کارتی که ایجاد می‌کنیم، استفاده خواهیم کرد. با این حال، به یک کپی جداگانه از هر لیست در هر شیء 
    Card
    نیازی نداریم. 
    attribute
    های کلاس را می‌توان از طریق هر شیء آن کلاس به دست آورد، اما معمولا از طریق نام کلاس (مانند 
    Card.FACES
    یا 
    Card.SUITS
    ) قابل دسترسی هستند. به محض اینکه تعریف کلاس را 
    import
    کنید، 
    attribute
    های کلاس وجود خواهند داشت.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
متد 
     __init__
    در 
    Card
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که یک شیء 
    Card
    ایجاد می‌کنید، متد 
     __init__ 
    خصلت‌های داده‌ای 
     face_ 
    و 
    suit_
    متعلق به شیء را تعریف می‌کند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">face</span><span class="p">,</span> <span class="n">suit</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Card with a face and suit.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_face</span> <span class="o">=</span> <span class="n">face</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_suit</span> <span class="o">=</span> <span class="n">suit</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Property
    های فقط خواندنی 
    face, suit و image_name
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پس از ایجاد 
    Card
    ، ویژگی‌های 
     face, suit و image_name
    آن تغییر نمی‌کند، بنابراین ویژگی‌های را به صورت فقط خواندنی پیاده‌سازی می‌کنیم (خطوط ۱۴ تا ۱۷ و ۱۹ تا ۲۲ و ۲۴ تا ۲۷). ویژگی‌های 
     face
    و 
     suit
    خصلت‌های داده‌ای 
    face_
    و 
     suit_
    را برمی‌گردانند. لازم نیست یک 
    property
    همیشه دارای یک 
    attribute
    داده‌ای مربوطه باشد. برای نشان دادن این مطلب، دقت کنید که مقدار ویژگی 
    image_name
    مربوط به شیء 
    Card 
    با به دست آوردن نمایش رشته‌ای آن به وسیله 
    str(self)
    و جایگزینی هر فضای خالی با خط تیره و اضافه کردن پسوند نام فایل 
    'png.'
    به انتهای آن، ایجاد می‌شود؛ بنابراین 
    'Ace of Spades'
    به 
    'Ace_of_Spades.png'
    تبدیل می‌شود. از این نام فایل برای بارگذاری تصویر یک کارت با فرمت 
    PNG
    استفاده خواهیم کرد. 
    PNG (Portable Network Graphics)
    یک فرمت تصویری برای تصاویر مبتنی بر وب است.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">face</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Card&#39;s self._face value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_face</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">suit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Card&#39;s self._suit value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_suit</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Card&#39;s image file name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متدهایی که نمایش رشته‌ای یک 
    Card
    را برمی‌گردانند
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در کلاس 
    Card
    سه متد خاص وجود دارد که نمایش رشته‌ای را برمی‌گردانند. همانند کلاس 
    Time
    ، متد 
     __repr__
    یک نمایش رشته‌ای را برمی‌گرداند. این رشته به یک 
    constructor expression
    برای ایجاد و مقداردهی اولیه یک شیء 
    Card
    شباهت دارد:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return string representation for repr().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Card(face=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="si">}</span><span class="s2">&#39;, suit=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">suit</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>  
        

</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
     __str__
    رشته‌ای با فرمت 
    'face of suit'
    مانند 
    'Ace of Hearts'
    را برمی‌گرداند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return string representation for str().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="si">}</span><span class="s1"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">suit</span><span class="si">}</span><span class="s1">&#39;</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که 
    IPython session
    در
    بخش قبلی کل کارت‌ها را چاپ کرد، مشاهده کردید که کارت‌ها در چهارستون و با تراز از سمت چپ نشان داده شدند. همان طور در متد 
     __str__
    کلاس 
     DeckOfCards
    مشاهده خواهید کرد، از 
    f-string
    برای فرمت کارت‌ها استفاده می‌کنیم و هر کارت را با عرض ۱۹ کاراکتر فرمت می‌کنیم. متد خاص 
    __format__ 
    از کلاس 
    Card
    هنگامی فراخوانی می‌شود که یک شیء 
    Card
    به عنوان یک رشته فرمت‌بندی شود. برای مثال در یک 
    f-string
    :
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return formatted string representation for str().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:{</span><span class="nb">format</span><span class="si">}}</span><span class="s1">&#39;</span>
        
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">آرگومان دوم این متد، رشته 
    format
    است که برای فرمت کردن شیء استفاده می‌شود. برای استفاده از مقدار پارامتر 
    format
    به عنوان مشخص کننده فرمت، نام پارامتر را میان دو آکولاد محصور کنید و سمت راست کاراکتر کولون (:) قراردهید. در این حالت، نمایش رشته‌ای شیء 
    Card
    که به وسیله متد 
    str(self)
    برگردانده شده را فرمت می‌کنیم. هنگام نشان دادن متد 
     __str__
    در کلاس 
    DeckOfCards
    دوباره 
     __format__ 
    را توضیح خواهیم داد.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.6.3 <span style="color:#8e24aa;">کلاس DeckOfCards
</span></h2> <a id='16'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    DeckOfCards
    دارای یک 
    attribute
    کلاس به نام 
    NUMBER_OF_CARDS
    است که تعداد کارت‌های یک‌دست ورق را نشان می‌دهد و دو 
    attribute
    داده‌ای ایجاد می‌کند:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span><b>current_card_  </b>
    کارت بعدی که پخش می‌شود را نظارت می‌کند. <br>
    <span style="color:#8e24aa;">• </span><b>deck_  </b>
    (در خط ۱۲) یک لیست از اشیاء ۵۲ کارت می‌باشد. <br>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
    __init__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    __init__
    در 
    DeckOfCards
    یک 
    deck_
    از 
    Card
    ها را مقداردهی اولیه می‌کند. دستور 
    for
    با اضافه کردن یک شیء جدید 
    Card
    لیست را پر کرده و هر شیء را با دو رشته مقداردهی می‌کند (یکی از لیست 
    Card.FACES
    و دیگری از لیست 
    Card.SUITS
    ). محاسبه 
    count % 13
    همیشه یک مقدار از ۰ تا ۱۲ تولید می‌کند (
    the 13 indices of Card.FACES
    ) و محاسبه 
    count // 13 
    همیشه  یک مقدار ۰ تا ۳ تولید می‌کند (
    the four indices of Card.SUITS
    ). هنگامی که لیست 
    deck_
    مقداردهی می‌شود، شامل 
    Card
    های با صورت کارت 
    'Ace'
    تا 
    'King'
    و مرتب شده برحسب 
     Hearts,  Diamondse Clubs, Spades
    می‌باند.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># deck.py</span>
<span class="sd">&quot;&quot;&quot;Deck class represents a deck of Cards.&quot;&quot;&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">card</span><span class="w"> </span><span class="kn">import</span> <span class="n">Card</span>

<span class="k">class</span><span class="w"> </span><span class="nc">DeckOfCards</span><span class="p">:</span>
    <span class="n">NUMBER_OF_CARDS</span> <span class="o">=</span> <span class="mi">52</span>  <span class="c1"># constant number of Cards</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the deck.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_card</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_deck</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">DeckOfCards</span><span class="o">.</span><span class="n">NUMBER_OF_CARDS</span><span class="p">):</span>  
            <span class="bp">self</span><span class="o">.</span><span class="n">_deck</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="n">Card</span><span class="o">.</span><span class="n">FACES</span><span class="p">[</span><span class="n">count</span> <span class="o">%</span> <span class="mi">13</span><span class="p">],</span> 
                <span class="n">Card</span><span class="o">.</span><span class="n">SUITS</span><span class="p">[</span><span class="n">count</span> <span class="o">//</span> <span class="mi">13</span><span class="p">]))</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
    shuffle
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    shuffle 
    مقدار 
     current_card_
    را به صفر 
    reset
    کرده و سپس با استفاده از تابع 
    shuffle
    در ماژول 
    random
    کارت‌ها را در 
    deck_
    برمی‌زند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span><span class="w"> </span><span class="nf">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Shuffle deck.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_card</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_deck</span><span class="p">)</span>    


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
    deal_card
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    deal_card
    یک 
    Card
    را از 
     deck_
    می‌دهد. به یاد بیاورید 
    current_card_
    اندیس 
    (0–51)
    کارت بعدی را نشان می‌دهد (یعنی کارتی که در بالای دسته ورق قرار دارد). خط ۲۶ سعی می‌کند عضو 
    deck_
    در 
    current_card_
    را بگیرد. در صورت موفقیت‌آمیز بودن، مقدار 
    current_card_
    را یک واحد افزایش می‌دهد و کارتی را برمی‌گرداند که باید داده شود. در غیر این صورت،  
    None
    را برمی‌گرداند تا نشان دهد دیگر کارتی در دسته ورق وجود ندارد.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="nf">deal_card</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return one Card.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_deck</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_card</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_card</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">card</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>  


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
     __str__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    DeckOfCards
    متد ویژه‌ای به نام 
    __str__
    تعریف می‌کند، این متد کارت‌های دسته ورق را در چهار ستون نمایش می‌دهد، هر کارت از سمت چپ تراز می‌شود و به اندازه ۱۹ کاراکتر فضا اشغال می‌کند. هنگامی که خط ۳۷ یک کارت مشخص را فرمت می‌کند، متد خاص 
    __format__ 
    آن با شاخص فرمت 
    '19>'
    به عنوان آرگومان متد 
    format
    فراخوانی می‌شود. متد 
    __format__
    از 
    '19>'
    برای نمایش رشته‌ای 
    Card
    فرمت شده استفاده می‌کند.
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a string representation of the current _deck.&quot;&quot;&quot;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">card</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_deck</span><span class="p">):</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_deck</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">:</span><span class="s1">&lt;19</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        
        <span class="k">return</span> <span class="n">s</span>

</pre></div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.6.4 <span style="color:#8e24aa;">نمایش تصویر کارت‌ها با Matplotlib
</span></h2> <a id='17'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تاکنون، کارت‌ها را به صورت متن نمایش داده‌ایم. در این قسمت تصاویر کارت‌ها را نمایش می‌دهیم. برای این نمایش، تصاویر کارت‌ها را از ویکی‌مدیا دانلود کردیم:
    <br>
    <a href="https://commons.wikimedia.org/wiki/
Category:SVG_English_pattern_playing_cards">https://commons.wikimedia.org/wiki/
Category:SVG_English_pattern_playing_cards<a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این تصاویر در زیرپوشه 
    card_images
    از پوشه 
    ch10
    در پوشه 
    examples
    قراردارند. در ابتدا یک 
    DeckOfCards
    ایجاد می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">deck</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeckOfCards</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span> <span class="o">=</span> <span class="n">DeckOfCards</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    فعال‌سازی 
    Matplotlib
    در 
    IPython
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در گام بعدی، 
    Matplotlib
    را در 
    IPython
    با استفاده از دستور 
    matplotlib%
    فعال کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">45</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:2504,</span> in <span class="ni">InteractiveShell.run_line_magic</span><span class="nt">(self, magic_name, line, _stack_depth)</span>
<span class="g g-Whitespace">   </span><span class="mi">2502</span>     <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;local_ns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_local_scope</span><span class="p">(</span><span class="n">stack_depth</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2503</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">builtin_trap</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">2504</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2506</span> <span class="c1"># The code below prevents the output from being displayed</span>
<span class="g g-Whitespace">   </span><span class="mi">2507</span> <span class="c1"># when using magics with decorator @output_can_be_silenced</span>
<span class="g g-Whitespace">   </span><span class="mi">2508</span> <span class="c1"># when the last Python token in the expression is a &#39;;&#39;.</span>
<span class="g g-Whitespace">   </span><span class="mi">2509</span> <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">magic</span><span class="o">.</span><span class="n">MAGIC_OUTPUT_CAN_BE_SILENCED</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/magics/pylab.py:103,</span> in <span class="ni">PylabMagics.matplotlib</span><span class="nt">(self, line)</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span>     <span class="nb">print</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span>         <span class="s2">&quot;Available matplotlib backends: </span><span class="si">%s</span><span class="s2">&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>         <span class="o">%</span> <span class="n">_list_matplotlib_backends_and_gui_loops</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">103</span>     <span class="n">gui</span><span class="p">,</span> <span class="n">backend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">enable_matplotlib</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">gui</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_show_matplotlib_backend</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">gui</span><span class="p">,</span> <span class="n">backend</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:3784,</span> in <span class="ni">InteractiveShell.enable_matplotlib</span><span class="nt">(self, gui)</span>
<span class="g g-Whitespace">   </span><span class="mi">3779</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.pylabtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">_matplotlib_manages_backends</span>
<span class="g g-Whitespace">   </span><span class="mi">3781</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">_matplotlib_manages_backends</span><span class="p">()</span> <span class="ow">and</span> <span class="n">gui</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3782</span>     <span class="c1"># Early import of backend_inline required for its side effect of</span>
<span class="g g-Whitespace">   </span><span class="mi">3783</span>     <span class="c1"># calling _enable_matplotlib_integration()</span>
<span class="ne">-&gt; </span><span class="mi">3784</span>     <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib_inline.backend_inline</span>
<span class="g g-Whitespace">   </span><span class="mi">3786</span> <span class="kn">from</span><span class="w"> </span><span class="nn">IPython.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">pylabtools</span> <span class="k">as</span> <span class="n">pt</span>
<span class="g g-Whitespace">   </span><span class="mi">3787</span> <span class="n">gui</span><span class="p">,</span> <span class="n">backend</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">find_gui_and_backend</span><span class="p">(</span><span class="n">gui</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pylab_gui_select</span><span class="p">)</span>

<span class="n">File</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">hostedtoolcache</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.11.13</span><span class="o">/</span><span class="n">x64</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.11</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">matplotlib_inline</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">backend_inline</span><span class="p">,</span> <span class="n">config</span>  <span class="c1"># noqa</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.1.7&quot;</span>  <span class="c1"># noqa</span>

<span class="n">File</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">hostedtoolcache</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.11.13</span><span class="o">/</span><span class="n">x64</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.11</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">matplotlib_inline</span><span class="o">/</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;A matplotlib backend for publishing figures via display_data&quot;&quot;&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Copyright (c) IPython Development Team.</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Distributed under the terms of the BSD 3-Clause License.</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">colors</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.backends</span><span class="w"> </span><span class="kn">import</span> <span class="n">backend_agg</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ایجاد مسیر پایه برای هر تصویر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">قبل از نمایش هر تصویر، باید آن را از پوشه 
    card_images
    بارگیری کنیم. از کلاس 
    Path
    در ماژول 
    pathlib
    برای ساخت مسیر کامل هر تصویر در سیستم خود استفاده خواهیم کرد. اسنیپت [۵] یک شیء 
    Path
    برای پوشه فعلی ایجاد می‌کند (
    ch10
    در پوشه 
    examples
    ) که توسط 
    '.'
    نمایش داده می‌شود، سپس از متد 
    Path
    در 
    joinpath
    برای افزودن پوشه فرعی حاوی تصاویر کارت استفاده می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;card_images&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    import
    کردن 
    feature
    های 
    Matplotlib
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعد، ماژول‌های 
    Matplotlib
    را 
    import
    می‌کنیم، برای نمایش تصاویر به این ماژول‌ها نیاز پیدا خواهیم کرد. برای بارگذاری تصاویر از تابعی از 
    matplotlib.image
    استفاده خواهیم کرد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">48</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.image</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpimg</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">49</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.image</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpimg</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ایجاد اشیای 
    Figure
    و 
    Axes
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اسنیپت زیر از تابع 
    subplots
    در 
    Matplotlib
    برای ایجاد یک شیء 
    Figure
    استفاده می‌کند و در آن تصاویر ۵۲ 
     subplot
    در چهار سطر (
    nrows
    ) و سیزده ستون (
    ncols
    ) نمایش می‌دهیم. این تابع یک تاپل 
    حاوی 
    Figure
    و یک آرایه 
    Axes
    برای 
    subplot
    ها برمی‌گرداند. داده‌های اخیر را در متغیرهای 
    figure
    و 
    axes_list
    باز می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figure</span><span class="p">,</span> <span class="n">axes_list</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">figure</span><span class="p">,</span> <span class="n">axes_list</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;plt&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">وقتی این عبارت را در 
    IPython
    اجرا می‌کنید، بلافاصله پنجره 
    Matplotlib
    با ۵۲ نمودار خالی 
    subplot
    ظاهر می‌شود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    پیکربندی اشیای 
    Axes
    و نمایش تصاویر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ادامه، تمامی اشیای 
    Axes
    در 
    axes_list
    را پیمایش می‌کنیم. به یاد بیاورید که 
    ravel
    یک 
    view
    یک بعدی از یک آرایه چند بعدی فراهم می‌کند. برای هر شیء 
    Axes
    کارهای زیر را انجام می‌دهیم:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>نمودار مربوط به داده‌ها را رسم نمی‌کنیم، بنابراین به خطوط و برچسب محورهای 
    $x$
    و 
    $y$
    نیازی نداریم. دو جمله اول در حلقه تکرار، محورهای 
    $x$
    و 
    $y$
    را پنهان می‌کند.<br>
    <span style="color:#8e24aa;">• </span>دستور سوم یک کارت را پخش می‌کند و 
    image_name
    آن را می‌گیرد.<br>
    <span style="color:#8e24aa;">• </span>دستور چهارم از متد 
    Path
    در 
    joinpath
    برای اضافه کردن 
    image_name
    به 
    Path
    استفاده می‌کند، سپس تابع 
    resolve
    در 
    Path
    را فراخوانی می‌کند تا مسیر کامل تصویر در سیستم ما را تعیین کند. شیء حاصله از 
    Path
    را به تابع داخلی 
    str
    ارسال می‌کنیم تا نمایش رشته‌ای محل تصویر را به دست آورد، در ادامه این رشته را به تابع 
    imread
    از ماژول 
    matplotlib.image
    ارسال می‌کنیم، این تابع به‌نوبه خود تصویر را بارگیری می‌کند.<br>
    <span style="color:#8e24aa;">• </span>آخرین دستور برای نمایش تصویر فعلی در 
    subplot
    جاری، متد 
    imshow
    از 
    Axes
    را فراخوانی می‌کند.<br>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">axes_list</span><span class="o">.</span><span class="n">ravel</span><span class="p">():</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">deck_of_cards</span><span class="o">.</span><span class="n">deal_card</span><span class="p">()</span><span class="o">.</span><span class="n">image_name</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()))</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">51</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">axes_list</span><span class="o">.</span><span class="n">ravel</span><span class="p">():</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;axes_list&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    بیشینه کردن اندازه‌های تصاویر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت، تمام تصاویر نمایش داده شده‌اند. برای اینکه بتوانید کارت‌ها را تا حد ممکن بزرگ کنید، می‌توانید 
    window
    را به حداکثر برسانید و سپس متد 
    tight_layout
    از شیء 
    Figure
    در 
    Matplotlib
    را فراخوانی کنید. این متد بیشتر فضای سفید اضافی در پنجره را حذف می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">figure</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">52</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">figure</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;figure&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p><img alt="Screenshot (74).png" src="Chapters/10 - Object-Oriented-Programming/attachment:a31165de-6dd0-4a67-9b18-3fa3f7eab7c7.png" /></p>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    برزدن کارت‌ها و پخش مجدد کارت‌ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای دیدن تصاویر برخورده، متد 
    shuffle
    را فراخوانی کرده و سپس اسنیپت قبلی را مجددا اجرا کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span><span class="o">.</span><span class="n">shuffle</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">axes_list</span><span class="o">.</span><span class="n">ravel</span><span class="p">():</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">deck_of_cards</span><span class="o">.</span><span class="n">deal_card</span><span class="p">()</span><span class="o">.</span><span class="n">image_name</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()))</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">54</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">for</span> <span class="n">axes</span> <span class="ow">in</span> <span class="n">axes_list</span><span class="o">.</span><span class="n">ravel</span><span class="p">():</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">axes</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">axes</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;axes_list&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.7 <span style="color:#F50057;">وراثت: کلاس‌های پایه و زیرکلاس‌ها</span></h1> <a id='18'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">غالبا یک شیء از یک کلاس، یک شیء از کلاس دیگر هم محسوب می‌شود. به عنوان مثال 
    CarLoan
    (وام خودرو) همانند 
    HomeImprovementLoan
    (وام تعمیرات مسکن) و 
    MortgageLoan
    (وام مسکن) یک وام یا 
    Loan
    تلقی می‌شود. می‌توان گفت کلاس 
    CarLoan
    از کلاس 
    Loan
    ارث می‌برد. در این زمینه، کلاس 
    Loan
    یک کلاس پایه و کلاس 
    CarLoan
    یک زیرکلاس است. کلاس 
    CarLoan
    نوع خاصی از 
    Loan
    است، اما ادعای اینکه هر 
    Loan
    یک 
    CarLoan
    است، نادرست می‌باشد - 
    Loan
    می‌تواند از هر نوع باشد. در جدول زیر نمونه‌های ساده‌ای از کلاس‌های پایه و زیرکلاس‌ها ذکر شده است. کلاس‌های پایه بیشتر عمومی و زیرکلاس‌ها خاص‌تر هستند:
</div><p><img alt="Screenshot (75).png" src="Chapters/10 - Object-Oriented-Programming/attachment:96acbb20-dc8a-442e-b8b5-0bb233f80512.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">از آنجا که هر شیء زیرکلاس یک شیء از کلاس پایه خود محسوب می‌شود و یک کلاس پایه می‌تواند زیرکلاس‌های زیادی داشته باشد، مجموعه اشیای نشان داده شده توسط یک کلاس پایه اغلب بیشتر از مجموعه اشیای نشان داده شده توسط هر یک از زیرکلاس‌های آن می‌باشد. به عنوان مثال، کلاس پایه 
    Vehicle
    (وسایل نقلیه) نشان‌دهنده کلیه وسایل نقلیه ازجمله اتومبیل، قایق، دوچرخه و... است. در مقابل، زیرکلاس 
    Car
    (اتومبیل) نشان‌دهنده زیرمجموعه کوچک‌تر و مشخص‌تری از وسایل نقلیه است.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    سلسله‌مراتب وراثت 
    CommunityMember
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">روابط ارث‌بری، ساختارهای سلسله‌مراتبی درخت مانند را تشکیل می‌دهند. در یک رابطه سلسله‌مراتبی، یک کلاس پایه همراه با زیرکلاس‌های خود وجود دارد. در این قسمت یک نمونه سلسله‌مراتب کلاس که سلسله‌مراتب وراثت نیز نامیده می‌شود (که در نمودار زیر نشان داده شده است) می‌سازیم. یک جامعه دانشگاهی دارای هزاران عضو است، از جمله کارمندان، دانشجویان و دانش‌آموختگان. کارمندان یا کادرآموزشی و یا کارکنان اداری هستند. کادرآموزشی اعضای هیئت‌علمی یا مدیر هستند (به عنوان مثال: روسای دانشکده و یا روسای گروه) یا مدرسین. سلسله‌مراتب می‌تواند کلاس‌های دیگری را شامل شود. به عنوان مثال، دانشجویان می‌توانند دانشجوی تحصیلات تکمیلی یا کارشناسی باشند. دانشجویان دوره کارشناسی می‌توانند دانشجوی سال اول، سال دوم، سال سوم یا سال آخر باشند. در ارث‌بری منفرد، یک کلاس فقط از یک کلاس پایه ارث می‌برد. در وراثت چندگانه، یک زیر کلاس از دو یا چند کلاس پایه ارث می‌برد. وراثت منفرد ساده است. وراثت چندگانه از حوصله این کتاب خارج است. قبل از استفاده از آن، 
    diamond problem
    در وراثت چندگانه پایتون را در اینترنت جست‌وجو کنید.
</div><p><img alt="Screenshot (76).png" src="Chapters/10 - Object-Oriented-Programming/attachment:938e5ff5-7693-41dd-8791-13678afb6f1d.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر پیکان در سلسله‌مراتب نشان‌دهنده یک رابطه 
    is-a
    می‌باشد. همان طور که پیکان‌های رو به بالا را در این سلسله‌مراتب کلاس‌ها دنبال کنیم، می‌توانیم بگوییم مثلا یک کارمند یک 
    CommunityMember
    است و یک مدرس یک عضو کادر آموزشی است. 
    CommunityMember
    یک کلاس پایه و مستقیم برای کارمند، دانشجو و دانش‌آموخته است و یک کلاس پایه غیرمستقیم برای کلاس‌های دیگر در نمودار است. با شروع از پایین، می‌توانید پیکان‌ها را دنبال کرده و رابطه 
    is-a
    را تا بالاترین سطح کلاس اعمال کنید. به عنوان مثال، 
    Administrator
    یک عضو کادر آموزشی است و یک کارمند، یک 
    CommunityMember
    و البته درنهایت یک شیء محسوب می‌شود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    سلسله‌مراتب وراثت 
    Shape
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اکنون سلسله‌مراتب وراثت در نمودار کلاس زیر را درنظر بگیرید. این سلسله‌مراتب وراثت با کلاس پایه 
    Shape
    شروع می‌شود و پس از آن زیرکلاس‌های اشکال دوبعدی و اشکال سه‌بعدی شروع می‌شود. هر 
    Shape
    ، یک شکل دوبعدی یا یک شکل سه‌بعدی است. سطح سوم این سلسله‌مراتب شامل انواع خاصی از اشکال دوبعدی و اشکال سه‌بعدی است. بازهم می‌توانیم پیکان‌ها را از پایین نمودار به بالاترین کلاس پایه در این سلسله‌مراتب کلاس دنبال کنیم تا چندین رابطه 
    is-a
    را شناسایی کنیم. به عنوان مثال، یک مثلث یک شکل دوبعدی است و یک 
    Shape
    است، درحالی که کره یک شکل سه‌بعدی و درنهایت یک 
    Shape
    تلقی می‌شود. این سلسله مراتب می‌تواند شامل بسیاری از کلاس‌های دیگرهم باشد. به عنوان مثال، بیضی‌ها و ذوزنقه‌ها اشکال دوبعدی هستند و مخروط‌ها و استوانه‌ها اشکال سه‌بعدی محسوب می‌شوند.
</div><p><img alt="Screenshot (77).png" src="Chapters/10 - Object-Oriented-Programming/attachment:ed30da87-aefc-4223-b421-86f604bc51f7.png" /></p>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    رابطه 
    is-a
    در قیاس با 
    has-a
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">وراثت روابط 
    is-a
    را ایجاد می‌کند، ممکن است در این رابطه با یک شیء از نوع 
    subclass
    به عنوان یک شیء از نوع 
    base-class
    رفتار شود. همچنین روابط 
    has-a
    (composition)
    را مشاهده کرده‌اید و دیدید که اعضای یک کلاس به یک یا چند شیء از کلاس‌های دیگر ارجاع می‌شوند.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.8 <span style="color:#F50057;">ایجاد سلسله مراتب وراثت: مقدمه‌ای بر پلی‌مورفیسم</span></h1> <a id='19'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بیایید از یک سلسله‌مراتب شامل انواع کارمندان در برنامه حقوق و دستمزد یک شرکت برای بحث در مورد رابطه بین یک کلاس پایه و زیرکلاس آن استفاده کنیم. کارمندان شرکت اشتراکات زیادی دارند؛ اما کارمندان کمیسیونی (که به عنوان اشیای کلاس پایه نشان داده می‌شوند) درصدی از فروش خود را دریافت می‌کنند، درحالی که کارمندان کمیسیونی حقوق‌بگیر (که به عنوان اشیاء از یک زیرکلاس نشان داده می‌شوند) علاوه بر درصدی از فروش، حقوق پایه هم دریافت می‌کنند. 
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ابتدا کلاس پایه 
    CommissionEmployee
    را نشان می‌دهیم. سپس، یک زیرکلاس 
    SalariedCommissionEmployee
    ایجاد می‌کنیم که از کلاس 
    CommissionEmployee
    ارث می‌برد. در گام بعدی، از یک 
    IPython session
    برای ایجاد یک شیء 
    SalariedCommissionEmployee
    استفاده می‌کنیم و نشان می‌دهیم که تمام قابلیت‌های کلاس پایه و زیرکلاس را دارد، اما درآمد آن را به طور متفاوتی محاسبه می‌کند.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.8.1 <span style="color:#8e24aa;">کلاس پایه CommissionEmployee
</span></h2> <a id='20'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">به 
    feature
    هایی که کلاس 
    CommissionEmployee
    فراهم می‌کند، توجه کنید:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>متد 
    __init__
    (خطوط ۸ تا ۱۵) 
    attribute
    های داده‌ای 
    first_name, 
    last_name_ 
    و 
    ssn_ 
    (Social Security number)
    را ایجاد می‌کند و از 
    setter
    های 
    property
    های 
    gross_sales
    و 
    commission_rate
    برای ایجاد 
    attribute
    های داده‌ای مربوطه استفاده می‌کند.<br>
    <span style="color:#8e24aa;">• </span>property
    های فقط خواندنی 
    first_name
    (خطوط ۱۷ تا ۱۹) 
    last_name
    (خطوط ۲۱ تا ۲۳) 
    و 
    ssn
    (خطوط ۲۵ تا ۲۷) 
    خصلت‌های داده‌ای
    مربوطه را برمی‌گردانند.
    <br>
    <span style="color:#8e24aa;">• </span>setter
    ها با استفاده از 
    property
    های 
    gross_sales 
    (خطوط ۲۹ تا ۳۹) و 
    commission_rate 
    (خطوط ۴۱ تا ۵۲) که از قابلیت خواندن و نوشتن برخوردار هستند، اعتبارسنجی داده‌ها را انجام می‌دهند.<br>
    <span style="color:#8e24aa;">• </span>متد 
    earnings
    (خطوط ۵۴ تا ۵۶) درآمد یک کارمند کمسیونی (
    CommissionEmployee
    ) را محاسبه کرده و برمی‌گرداند.<br>
    <span style="color:#8e24aa;">• </span>متد 
    __repr__ 
    (سطرهای ۵۸ تا ۶۴) نمایش رشته‌ای 
    CommissionEmployee
    را برمی‌گرداند.<br>
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># commmissionemployee.py</span>
<span class="sd">&quot;&quot;&quot;CommissionEmployee base class.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CommissionEmployee</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An employee who gets paid commission based on gross sales.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">ssn</span><span class="p">,</span> 
                 <span class="n">gross_sales</span><span class="p">,</span> <span class="n">commission_rate</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize CommissionEmployee&#39;s attributes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_first_name</span> <span class="o">=</span> <span class="n">first_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_name</span> <span class="o">=</span> <span class="n">last_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ssn</span> <span class="o">=</span> <span class="n">ssn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gross_sales</span> <span class="o">=</span> <span class="n">gross_sales</span>  <span class="c1"># validate via property</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commission_rate</span> <span class="o">=</span> <span class="n">commission_rate</span>  <span class="c1"># validate via property</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">first_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_first_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">last_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ssn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ssn</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">gross_sales</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gross_sales</span>

    <span class="nd">@gross_sales</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">gross_sales</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sales</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set gross sales or raise ValueError if invalid.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sales</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Gross sales must be &gt;= to 0&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_gross_sales</span> <span class="o">=</span> <span class="n">sales</span>
        
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">commission_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commission_rate</span>

    <span class="nd">@commission_rate</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">commission_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set commission rate or raise ValueError if invalid.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.0&#39;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">rate</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1.0&#39;</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
               <span class="s1">&#39;Interest rate must be greater than 0 and less than 1&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_commission_rate</span> <span class="o">=</span> <span class="n">rate</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">earnings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate earnings.&quot;&quot;&quot;</span>   
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gross_sales</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">commission_rate</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return string representation for repr().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;CommissionEmployee: &#39;</span> <span class="o">+</span> 
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first_name</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_name</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
            <span class="sa">f</span><span class="s1">&#39;social security number: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ssn</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
            <span class="sa">f</span><span class="s1">&#39;gross sales: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">gross_sales</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span>
            <span class="sa">f</span><span class="s1">&#39;commission rate: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">commission_rate</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    first_name, last_name و ssn
    ویژگی‌های فقط خواندنی هستند. اگرچه می‌توانستیم این ویژگی‌ها را اعتبارسنجی کنیم ولی تصمیم گرفتیم که این کار را انجام ندهیم. به عنوان مثال، می‌توانیم نام و نام‌خانوادگی را اعتبارسنجی کنیم تا اطمینان حاصل کنیم که طول آن‌ها معقول باشد. می‌توانیم شماره 
    Social Security number
    را اعتبارسنجی کنیم تا مطمئن شویم که از ۹ رقم همراه با خط تیره و یا بدون خط تیره تشکیل شده است (به عنوان مثال، برای اطمینان از اینکه با فرمت 
    ###-##-####
    یا 
    #########
    مطابقت دارد و هر 
    #
    معرف یک رقم می‌باشد).
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    همه کلاس‌ها به طور مستقیم یا غیرمستقیم از کلاس 
    object
    ارث می‌برند
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای ایجاد کلاس‌های جدید از کلاس‌های موجود از وراثت استفاده می‌کنید. در واقع، هر کلاس پایتون از یک کلاس موجود ارث می‌برد. وقتی کلاس پایه را برای یک کلاس جدید به طور صریح مشخص نکنید، پایتون فرض می‌کند که این کلاس مستقیما از کلاس 
    object
    ارث می‌برد. سلسله‌مراتب کلاس در پایتون با کلاس 
    object
    شروع می‌شود و به طور مستقیم یا غیرمستقیم، کلاس پایه هر کلاس محسوب می‌شود؛ بنابراین می‌توان قسمت تعریف کلاس 
    CommissionEmployee
    را به صورت زیر نوشت:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">CommissionEmployee</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پرانتزهای پس از 
    CommissionEmployee
    نشان‌دهنده وراثت است و ممکن است شامل یک کلاس واحد برای وراثت منفرد یا یک لیست جداگانه از کلاس‌های پایه برای وراثت چندگانه باشد. بار دیگر یادآوری می‌کنیم که وراثت چندگانه از حوصله این کتاب خارج است.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس
    CommissionEmployee
    تمام متدهای کلاس 
    object
    را به ارث می‌برد. کلاس 
    object
    هیچ 
    data attribute
    ندارد. متدهای 
    __str__
    و 
    __repr__
    دو متد از چندین متدی هستند که از 
    object
    به ارث برده می‌شوند؛ بنابراین هرکلاس این متدها را دارد و این متدها نمایش رشته‌ای از اشیایی که آن‌ها را فراخوانی کرده‌اند برمی‌گرداند. وقتی پیاده‌سازی یک متد کلاس پایه برای یک زیرکلاس مناسب نباشد، می‌توان آن را در زیرکلاس با یک پیاده‌سازی مناسب جایگزین کرد 
    (can be overridden)
    متد 
    __repr__
    (خطوط ۸۵ تا ۶۴) پیاده‌سازی پیش‌فرضی که از  
    object
    به کلاس 
    CommissionEmployee
    به ارث رسیده را 
    override
    می‌کند. برای مشاهده متدهای 
    object
    که قابلیت 
    override
    دارند به آدرس زیر مراجعه کنید:
    <br>
    <a href="https://docs.python.org/3/reference/datamodel.html">https://docs.python.org/3/reference/datamodel.html</a>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تست کلاس 
    CommissionEmployee
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت برخی از ویژگی‌های 
    CommissionEmployee
    را 
    test
    می‌کنیم. در ابتدا یک 
    CommissionEmployee
    ایجاد کرده و آن را نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">commissionemployee</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommissionEmployee</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">CommissionEmployee</span><span class="p">(</span><span class="s1">&#39;Sue&#39;</span><span class="p">,</span> <span class="s1">&#39;Jones&#39;</span><span class="p">,</span> <span class="s1">&#39;333-33-3333&#39;</span><span class="p">,</span> 
    <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;10000.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.06&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CommissionEmployee: Sue Jones
social security number: 333-33-3333
gross sales: 10000.00
commission rate: 0.06
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ادامه درآمد 
    CommissionEmployee
    را محاسبه کرده و نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">c</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>600.00
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">سرانجام میزان فروش ناخالص 
    CommissionEmployee
    و نرخ کمیسیون را تغییرمی‌دهیم، سپس درآمد را دوباره محاسبه می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">gross_sales</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;20000.00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">commission_rate</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">c</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2,000.00
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.8.2 <span style="color:#8e24aa;">زیرکلاس  
    SalariedCommissionEmployee
</span></h2> <a id='21'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در وراثت منفرد، زیرکلاس اساسا همانند کلاس پایه شروع می‌شود. قدرت واقعی وراثت از توانایی تعریف در اضافات زیرکلاس، جایگزینی یا اصلاح 
    feature
    های به ارث رسیده از کلاس پایه نشأت می‌گیرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بسیاری از قابلیت‌های کلاس 
    SalariedCommissionEmployee
    ، مشابه اگر نگوییم یکسان با قابلیت‌های کلاس 
    CommissionEmployee
    است. هر دو نوع کارمند دارای 
    data attribute هایی
    مانند نام، نام‌خانوادگی، شماره 
    Social Security
    ، فروش ناخالص و نرخ کمیسیون، 
    property
    ها و متدهایی برای دست‌کاری این داده‌ها هستند. برای ایجاد کلاس 
    SalariedCommissionEmployee
    بدون استفاده از وراثت، می‌توانیم کد کلاس 
    CommissionEmployee
    را کپی کرده و در کلاس 
    SalariedCommissionEmployee
    جایگذاری کنیم. سپس می‌توانیم کلاس جدید را اصلاح کنیم تا شامل یک 
    data attribute
    پایه حقوق، 
    property
    ها و متدهایی که حقوق پایه را دست‌کاری می‌کنند و یک متد 
    earnings
    جدید شود. این روش 
    copy-and-paste
    اغلب مستعد خطا است. از این بدتر، این روش می‌تواند بسیاری از کپی‌های فیزیکی همان کد (از جمله خطاها) را در سراسر سیستم پخش کند و باعث می‌شود قابلیت نگهداری کد شما کمتر شود. وراثت این امکان را فراهم می‌کند که بدون کدنویسی مجدد، از 
    feature
    های یک کلاس استفاده کنیم. در ادامه چگونگی انجام این کار را خواهیم دید.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    اعلان کلاس 
    SalariedCommissionEmployee
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اکنون کلاس 
    SalariedCommissionEmployee
    را اعلان می‌کنیم، این کلاس قسمت عمده‌ای از قابلیت‌های خود را از کلاس 
    CommissionEmployee
    به ارث می‌برد (خط ۶). کلاس 
    SalariedCommissionEmployee
    یک 
    CommissionEmployee
    محسوب می‌شود (چرا که تمام قابلیت‌های 
    CommissionEmployee
    را به ارث می‌برد) اما کلاس 
    SalariedCommissionEmployee
    قابلیت‌های افزون‌تری به شرح زیر دارد:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>متد 
    __init__
    (سطرهای ۱۰ تا ۱۵) تمام داده‌های به ارث برده از کلاس 
    CommissionEmployee
    را مقداردهی اولیه می‌کند (در این مورد به زودی بیشتر توضیح خواهیم داد) سپس با استفاده از 
    setter
    ویژگی 
    base_salary
    ، خصلت داده‌ای 
    base_salary_
    را ایجاد می‌کند.<br>
    <span style="color:#8e24aa;">• </span>یک ویژگی موسوم به 
    base_salary
    (خطوط ۱۷ تا ۲۷) با قابلیت خواندن و نوشتن که 
    با استفاده از 
    setter
    اعتبارسنجی انجام می‌دهد.<br>
    <span style="color:#8e24aa;">• </span>نسخه سفارشی متد 
    earnings
    (خطوط ۲۹ تا ۳۱)<br>
    <span style="color:#8e24aa;">• </span>نسخه سفارشی متد 
    __repr__ 
    (خطوط ۳۳ تا ۳۶)<br>
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># basepluscommissionemployee.py</span>
<span class="sd">&quot;&quot;&quot;SalariedCommissionEmployee derived from CommissionEmployee.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">commissionemployee</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommissionEmployee</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SalariedCommissionEmployee</span><span class="p">(</span><span class="n">CommissionEmployee</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An employee who gets paid a salary plus </span>
<span class="sd">    commission based on gross sales.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">ssn</span><span class="p">,</span> 
                 <span class="n">gross_sales</span><span class="p">,</span> <span class="n">commission_rate</span><span class="p">,</span> <span class="n">base_salary</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize SalariedCommissionEmployee&#39;s attributes.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">ssn</span><span class="p">,</span> 
                         <span class="n">gross_sales</span><span class="p">,</span> <span class="n">commission_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_salary</span> <span class="o">=</span> <span class="n">base_salary</span>  <span class="c1"># validate via property</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">base_salary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_salary</span>

    <span class="nd">@base_salary</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">base_salary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">salary</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set base salary or raise ValueError if invalid.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">salary</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Base salary must be &gt;= to 0&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_salary</span> <span class="o">=</span> <span class="n">salary</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">earnings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate earnings.&quot;&quot;&quot;</span>   
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_salary</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return string representation for repr().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;Salaried&#39;</span> <span class="o">+</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span> <span class="o">+</span>      
            <span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">base salary: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">base_salary</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ارث‌بری از کلاس 
    CommissionEmployee
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای به ارث بردن از یک کلاس، ابتدا باید تعریف آن را 
    import
    کنید (خط ۳).
    خط ۶ مشخص می‌کند که کلاس 
    SalariedCommissionEmployee
    از کلاس 
    CommissionEmployee
    ارث می‌برد.
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SalariedCommissionEmployee</span><span class="p">(</span><span class="n">CommissionEmployee</span><span class="p">):</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اگرچه 
     property
    ها
    ، 
    data attribute
    ها
    و متدهای کلاس 
    CommissionEmployee
    را در کلاس 
    SalariedCommissionEmployee
    نمی‌بینید، اما همان طور که به زودی خواهید دید آن‌ها بخشی از کلاس جدید هستند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
    __init__
    و تابع داخلی 
    super
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
     __init__ 
    مربوط به زیرکلاس باید به طور صریح متد 
     __init__ 
    کلاس پایه خود را فراخوانی کند تا 
    data attribute
    هایی که از کلاس پایه به ارث برده، مقداردهی اولیه کند. این فراخوانی باید اولین دستور در متد 
     __init__ 
    مربوط به زیرکلاس باشد. متد 
     __init__ 
    مربوط به 
    SalariedCommissionEmployee
    صریحا متد 
     __init__ 
    از کلاس 
    CommissionEmployee
    (خطوط ۱۳ و ۱۴) را فراخوانی می‌کند تا قسمت کلاس پایه یک شیء 
    SalariedCommissionEmployee
    (یعنی پنج 
    data attribute
    که از کلاس 
    CommissionEmployee
    به ارث برده است) را مقداردهی اولیه کند. دستور 
    <code>__super().__init</code>
    با استفاده از تابع داخلی 
    super
    متد 
     __init__ 
    از کلاس پایه را یافته و آن را فراخوانی می‌کند، در این مورد پنج آرگومان را برای مقداردهی کردن 
    data attribute
    هایی که به ارث برده ارسال می‌کند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Override
    کردن متد 
    earnings
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    earnings
    در کلاس 
    SalariedCommissionEmployee
    (سطرهای ۲۹ تا ۳۱) متد 
    earnings
    در کلاس 
    CommissionEmployee
    را برای محاسبه درآمد در کلاس 
     SalariedCommissionEmployee
    را 
    override
    می‌کند. نسخه جدید این متد برای محاسبه قسمتی از درآمد که فقط به کمیسیون مربوط است، متد 
    earnings
    در کلاس 
    CommissionEmployee
    را با دستور 
    <code>()super().earnings</code> 
    (خط ۳۱) فراخوانی می‌کند. در ادامه متد 
    earnings
    در 
     SalariedCommissionEmployee
    مقدار 
    base_salary
    را به این مقدار اضافه می‌کند تا کل درآمد محاسبه شود. متد 
    earnings
    در کلاس 
     SalariedCommissionEmployee
    که متد 
    earnings
    در کلاس 
    CommissionEmployee
    را برای محاسبه بخشی از درآمد کلاس 
     SalariedCommissionEmployee
    فراخوانی می‌کند از تکرار کد جلوگیری کرده و مشکلات نگهداری کد را کاهش می‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Override
    کردن متد 
     __repr__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
     __repr__
    از کلاس 
    SalariedCommissionEmployee
    (خطوط ۳۳ تا ۳۶) متد 
    __repr__
    از کلاس 
     CommissionEmployee
    را 
    override
    می‌کند تا رشته‌ای که برمی‌گرداند برای نمایش یک 
    SalariedCommissionEmployee
    مناسب باشد. زیرکلاس قسمتی از رشته موردنظر را با اتصال 
    'Salaried'
    به مقداری که از دستور 
    <code>()__super().__repr</code>
    برمی‌گرداند ایجاد می‌کند؛ دستور 
    <code>()__super().__repr</code>
    متد 
    __repr__
    از کلاس 
    CommissionEmployee
    را فراخوانی می‌کند. متد 
    override
    شده در ادامه اطلاعات حقوق پایه را به رشته اضافه کرده و رشته حاصل را برمی‌گرداند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تست کلاس 
    SalariedCommissionEmployee
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت کلاس 
    SalariedCommissionEmployee
    را تست می‌کنیم تا نشان دهیم که واقعا قابلیت‌های کلاس 
    CommissionEmployee
    را به ارث برده است. در ابتدا یک 
    SalariedCommissionEmployee
    ایجاد می‌کنیم و همه ویژگی‌های آن را نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">salariedcommissionemployee</span><span class="w"> </span><span class="kn">import</span> <span class="n">SalariedCommissionEmployee</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">SalariedCommissionEmployee</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Lewis&#39;</span><span class="p">,</span> <span class="s1">&#39;444-44-4444&#39;</span><span class="p">,</span>
         <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;5000.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.04&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;300.00&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">last_name</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">ssn</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">gross_sales</span><span class="p">,</span> 
       <span class="n">s</span><span class="o">.</span><span class="n">commission_rate</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">base_salary</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bob Lewis 444-44-4444 5000.00 0.04 300.00
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">توجه کنید شیء 
    SalariedCommissionEmployee
    تمام ویژگی‌های دو کلاس 
    SalariedCommissionEmployee
    و 
    CommissionEmployee
    را دارد. در مرحله بعد، درآمد 
    SalariedCommissionEmployee
    را محاسبه و نمایش می‌دهیم. از آنجا که ما متد 
    earnings
    را برای یک شیء 
    SalariedCommissionEmployee
    فراخوانی می‌کنیم، نسخه زیرکلاس این متد اجرا می‌شود:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">s</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>500.00
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت 
    property
    های 
    gross_sales, commission_rate و base_salary
    را تغییر می‌دهیم و سپس داده‌های به‌روزرسانی شده را از طریق متد 
    __repr__ 
    در 
    SalariedCommissionEmployee
    نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">gross_sales</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;10000.00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">commission_rate</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.05&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">base_salary</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1000.00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SalariedCommissionEmployee: Bob Lewis
social security number: 444-44-4444
gross sales: 10000.00
commission rate: 0.05
base salary: 1000.00
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">از آنجایی که این متد برای شیء 
    SalariedCommissionEmployee
    فراخوانی شده است، نسخه زیرکلاس آن اجرا می‌شود. درنهایت حقوق به‌روز شده را محاسبه کرده و نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">s</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1,500.00
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تست رابطه 
    "is a"
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در پایتون برای تست رابطه 
    is a
    دو تابع 
    issubclass
    و 
    isinstance
    وجود دارد. تابع 
    issubclass
    تعیین می‌کند که آیا یک کلاس از کلاس دیگر مشتق شده است و یا خیر:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">issubclass</span><span class="p">(</span><span class="n">SalariedCommissionEmployee</span><span class="p">,</span> <span class="n">CommissionEmployee</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تابع
    isinstance
    تعیین می‌کند که آیا یک شیء رابطه 
    is a
    با یک 
    specific type
    دارد و یا خیر. از آنجا که 
    SalariedCommissionEmployee
    از 
    CommissionEmployee
    به ارث می‌برد، هر دو اسنیپت زیر 
    True
    را برمی‌گردانند و رابطه 
    is a
    را تأیید می‌کنند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">CommissionEmployee</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">SalariedCommissionEmployee</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.8.3 <span style="color:#8e24aa;">پردازش CommissionEmployee و SalariedCommissionEmployee به روش پلی‌مورفیسم
</span></h2> <a id='22'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">با وراثت ممکن است با هر شیء از یک زیرکلاس به عنوان یک شیء از کلاس پایه آن زیرکلاس رفتار شود. می‌توانیم از این اصل که
    <b>هرشیء زیرکلاس یک شیء کلاس پایه نیز محسوب می‌شود،</b>
    استفاده کنیم و کارهای جالبی انجام دهیم. به عنوان مثال می‌توانیم اشیاء مربوط به وراثت را در یک لیست قراردهیم، سپس لیست را پیمایش کرده و هر عضو را به عنوان یک شیء کلاس پایه در نظر بگیریم. این رویکرد امکان پردازش به صورت کلی را فراهم می‌کند. برای نشان دادن این موضوع، دو شیء از انواع 
    CommissionEmployee
    و 
    SalariedCommissionEmployee
    را در یک لیست قرار می‌دهیم و سپس هر عضو را به صورت رشته‌ای نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">employees</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">employees</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">employee</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">employee</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CommissionEmployee: Sue Jones
social security number: 333-33-3333
gross sales: 20000.00
commission rate: 0.10
2,000.00

SalariedCommissionEmployee: Bob Lewis
social security number: 444-44-4444
gross sales: 10000.00
commission rate: 0.05
base salary: 1000.00
1,500.00
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">همان طور که مشاهده می‌کنید، برای هر کارمند نمایش رشته‌ای و درآمد به طور صحیح نمایش داده می‌شود. این رویکرد پلی‌مورفیسم نامیده می‌شود و یک قابلیت کلیدی برنامه نویسی شیءگرا 
    (OOP)
    محسوب می‌شود.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.8.4 <span style="color:#8e24aa;">نکاتی در مورد برنامه نویسی مبتنی بر شیء و برنامه نویسی شیءگرا
</span></h2> <a id='23'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">وراثت با استفاده از روش 
    override
    کردن متدها یک روش قدرتمند برای ساخت اجزای نرم‌افزاری است که مانند اجزای موجود هستند اما باید برای نیازهای منحصربه فرد برنامه شما اصلاح شوند. در دنیای منبع‌باز پایتون، تعداد زیادی کتابخانه کلاس وجود دارند که به خوبی برای برنامه نویسی توسعه یافته‌اند البته به شرط آن که سبک برنامه نویسی شما مطابق موارد زیر باشد:
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>بدانید چه کتابخانه‌هایی در دسترس هستند<br>
    <span style="color:#8e24aa;">• </span>بدانید چه کلاس‌هایی در دسترس هستند<br>
    <span style="color:#8e24aa;">• </span>اشیاء را از کلاس‌های موجود بسازید و<br>
    <span style="color:#8e24aa;">• </span>برای آن‌ها پیام ارسال کنید (یعنی متدهای آن‌ها را فراخوانی کنید)<br>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این سبک برنامه نویسی را برنامه نویسی مبتنی بر شیء 
    (OBP)
    می‌نامند. هنگامی‌که 
    composition
    را با اشیاء کلاس‌های شناخته شده انجام می‌دهید، برنامه نویسی مبتنی بر شیء انجام می‌دهید. اضافه کردن وراثت با 
    override
    کردن متدها برای سفارشی کردن متدها مطابق با نیازهای منحصربه فرد برنامه‌های شما و احتمالا پردازش اشیاء به صورت 
    polymorphically
    ، برنامه نویسی شیءگرا 
    (OOP)
    نامیده می‌شود. اگر 
    composition
    را با اشیایی از کلاس‌های مشتق‌شده انجام دهید، این رویکرد نیز برنامه نویسی شیءگرا محسوب می‌شود.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.9 <span style="color:#F50057;">Duck Typing و Polymorphism</span></h1> <a id='24'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بیشتر زبان‌های برنامه نویسی شیءگرا دیگر برای دستیابی به  
    polymorphic behavior
    به ارث‌بری مبتنی‌بر رابطه 
    is a
    احتیاج دارند. پایتون در این زمینه انعطاف‌پذیرتر است. این زبان از مفهومی به نام 
    duck typing
    استفاده می‌کند و 
    documentation
    پایتون آن را این گونه توصیف می‌کنند:
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این سبک برنامه نویسی، برای تعیین درستی رابط کاربری به نوع یک شیء نگاه نمی‌کند؛ درعوض، به متدها یا 
    attribute
    هایی که به سادگی فراخوانی می‌شوند یا مورد استفاده قرارمی‌گیرند، نگاه می‌کند (اگر پرنده‌ای شبیه اردک باشد و مانند اردک کواک‌کواک کند، باید یک اردک باشد).
    <br>
    <a href="https://docs.python.org/3/glossary.html#term-duck-typing">https://docs.python.org/3/glossary.html#term-duck-typing</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بنابراین هنگام پردازش یک شیء در زمان اجرا، نوع آن مهم نیست. تا زمانی که شیء از 
    data attribute
    ، ویژگی یا متد (با پارامترهای مناسب) برخوردار باشد که می‌خواهید به آن‌ها دسترسی پیدا کنید، کد کار خواهد کرد. انتهای حلقه در بخش ۱۰.۸.۳ را درنظر بگیرید، این قسمت از کد لیستی از کارمندان را پردازش می‌کند:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">employees</span><span class="p">:</span>
 <span class="nb">print</span><span class="p">(</span><span class="n">employee</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">employee</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در پایتون تا زمانی که 
    employees
    فقط شامل اشیایی باشند که در شرایط زیر صدق کنند، این حلقه به درستی کار می‌کند:
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>با تابع 
    print
    قابل چاپ باشد (به عبارت دیگر نمایش رشته‌ای داشته باشد).<br>
    <span style="color:#8e24aa;">• </span>دارای یک متد 
    earnings
    باشد که بدون هیچ آرگومانی قابل فراخوانی باشد.<br>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">همه کلاس‌ها به طور مستقیم یا غیرمستقیم از شیء 
    object
    ارث می‌برند، بنابراین همه آن‌ها متدهای پیش‌فرض را برای به دست آوردن نمایش رشته‌ای که تابع 
    print
    برای نمایش به کار می‌برد به ارث می‌برند. اگر یک کلاس دارای یک متد 
    earnings
    باشد که بدون هیچ آرگومانی فراخوانی می‌شود، می‌توانیم اشیایی از آن کلاس را در لیست 
    employees
    قرار دهیم، حتی اگر 
    شیء آن کلاس رابطه 
    is a
    را با کلاس 
    CommissionEmployee
    نداشته باشد. برای نشان دادن این موضوع، کلاس 
    WellPaidDuck
    را درنظر بگیرید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">WellPaidDuck</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;I am a well-paid duck&#39;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">earnings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;1_000_000.00&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اشیاء
    WellPaidDuck
    مشخصا قرار نیست از جنس  
    employees
    باشند، ولی با حلقه قبلی کار می‌کنند. برای اثبات این موضوع، اشیائی از کلاس‌های 
    CommissionEmployee, SalariedCommissionEmployee و WellPaidDuck
    ایجاد کرده و آن‌ها را در یک لیست قرار می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">commissionemployee</span><span class="w"> </span><span class="kn">import</span> <span class="n">CommissionEmployee</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">salariedcommissionemployee</span><span class="w"> </span><span class="kn">import</span> <span class="n">SalariedCommissionEmployee</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">CommissionEmployee</span><span class="p">(</span><span class="s1">&#39;Sue&#39;</span><span class="p">,</span> <span class="s1">&#39;Jones&#39;</span><span class="p">,</span> <span class="s1">&#39;333-33-3333&#39;</span><span class="p">,</span>
                       <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;10000.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.06&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">SalariedCommissionEmployee</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Lewis&#39;</span><span class="p">,</span> <span class="s1">&#39;444-44-4444&#39;</span><span class="p">,</span>
    <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;5000.00&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.04&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;300.00&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">WellPaidDuck</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">employees</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اکنون با استفاده از حلقه بخش ۱۰.۸.۳ لیست را پردازش می‌کنیم. همان طور که در در خروجی مشاهده می‌کنید، پایتون قادر است از 
    duck typing
    برای پردازش 
    polymorphically
    هر سه شیء موجود در لیست استفاده کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">employee</span> <span class="ow">in</span> <span class="n">employees</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">employee</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">employee</span><span class="o">.</span><span class="n">earnings</span><span class="p">()</span><span class="si">:</span><span class="s1">,.2f</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CommissionEmployee: Sue Jones
social security number: 333-33-3333
gross sales: 10000.00
commission rate: 0.06
600.00

SalariedCommissionEmployee: Bob Lewis
social security number: 444-44-4444
gross sales: 5000.00
commission rate: 0.04
base salary: 300.00
500.00

I am a well-paid duck
1,000,000.00
</pre></div>
</div>
</div>
</div>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.10 <span style="color:#F50057;">Overload کردن عملگرها</span></h1> <a id='25'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تا اینجای کار مشاهده کرده‌اید که برای تعامل با اشیاء می‌توانید از 
    attribute
    ها، 
    property
    ها و یا فراخوانی متدها استفاده کنید. روش فراخوانی متد برای انواع خاصی از عملیات مانند عملیات حسابی می‌تواند دشوار باشد. در این موارد، استفاده از مجموعه غنی از عملگرهای از پیش‌ساخته شده در پایتون راحت‌تر است.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این بخش نحوه استفاده از 
    overload
    کردن عملگرها را نشان می‌دهیم تا با این رویکرد نحوه عملکرد اپراتورهای پایتون را برای اشیائی از نوع سفارشی تعریف کنید. قبلا از 
    overload
    کردن عملگرها برای طیف وسیعی از داده‌های نوع مختلف استفاده کرده‌اید. به عنوان مثال:
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>عملگر + برای افزودن مقادیر عددی، الحاق لیست‌ها، اتصال رشته‌ها و افزودن یک مقدار به هر عنصر در یک آرایه 
    NumPy<br>
    <span style="color:#8e24aa;">• </span>عملگر [] برای دسترسی به اعضا در لیست‌ها، تاپل‌ها، رشته‌ها و آرایه‌ها و دسترسی به مقدار یک کلید خاص در دیکشنری<br>
    <span style="color:#8e24aa;">• </span>عملگر *  برای ضرب مقادیرعددی، تکرار یک دنباله و ضرب هر عضو آرایه 
    NumPy
    در یک مقدار خاص<br>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">می‌توانید بیشتر اپراتورها را 
    overload
    کنید. کلاس 
    object
    برای هر عملگر 
    overload
    شده یک 
    متد
    خاص تعریف می‌کند. برای مثال متد 
     __add__ 
    را برای (+) و متد 
     __mul__
    را برای (*) تعریف می‌کند. 
    overload
    کردن متدها این امکان را به شما می‌دهند که نحوه عملکرد یک عملگر مشخص را برای اشیایی از کلاس سفارشی خود تعریف کنید. برای مشاهده لیست کاملی از این متدهای خاص به آدرس زیر مراجعه کنید:
    <br>
    <a href="https://docs.python.org/3/reference/datamodel.html#special-methodnames">https://docs.python.org/3/reference/datamodel.html#special-methodnames</a>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    محدودیت‌های 
    Overload
    کردن عملگرها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای 
    overload
    کردن عملگرها محدودیت‌هایی وجود دارد:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>اولویت یک اپراتور را نمی‌توان با 
    overload
    کردن تغییر داد. با این حال، می‌توان از پرانتز برای تغییر اولویت یک عبارت استفاده کرد.<br>
    <span style="color:#8e24aa;">• </span>با 
    overload
    کردن عملگرها، گروه‌بندی آن‌ها از چپ به راست و یا از راست به چپ تغییر نخواهد کرد.<br>
    <span style="color:#8e24aa;">• </span>”arity“
    یک عملگر - یعنی 
    unary
    بودن یا 
    binary
    بودن عملگر قابل تغییر نیست.<br>
    <span style="color:#8e24aa;">• </span>نمی‌توانید عملگرهای جدید ایجاد کنید - فقط عملگرهای موجود را می‌توان
    overload
    کرد.<br>
    <span style="color:#8e24aa;">• </span>معنای نحوه کار یک عملگر روی اشیاء از نوع 
    built-in
    قابل تغییر نیست. به عنوان مثال، نمی‌توانید عملگر + را به گونه‌ای تغییر دهید تا دو عدد صحیح را از هم کم کند.<br>
    <span style="color:#8e24aa;">• </span>overload
    کردن عملگر فقط با اشیای کلاس‌های سفارشی و یا با تلفیقی از یک شیء از یک کلاس سفارشی و یک شیء از انواع 
    built-in
    کار می‌کند.<br>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    اعداد مختلط
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای نشان دادن 
    overload
    کردن عملگرها، یک کلاس به نام 
    Complex
    تعریف می‌کنیم تا اعداد مختلط را نشان دهد. اعداد مختلط مانند 
    $ –3 + 4i $
    و
    $ 6.2 – 11.73i $
    دارای فرم زیر هستند:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">realPart</span> <span class="o">+</span> <span class="n">imaginaryPart</span> <span class="o">*</span> <span class="n">i</span> 
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پایتون از مقادیر مختلط پشتیبانی می‌کند و هدف ما از تعریف کلاس 
    Complex
    ، آموزش می‌باشد. در رابطه بالا 
    i
    برابر 
    $ \sqrt[2]{-1} $
    می‌باشد؛ مانند 
    int
    ها، 
    float
    ها و 
    Decimal
    ها اعداد مختلط نوع داده ریاضی محسوب می‌شوند. در این بخش، یک کلاس 
    Complex
    ایجاد خواهیم کرد که فقط عملگر جمع + و انتساب افزوده =+ را 
    overload
    می‌کند، بنابراین می‌توانیم با استفاده از عملگرهای ریاضی پایتون، اشیاء 
    Complex
    را جمع کنیم.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.10.1 <span style="color:#8e24aa;">Test-Driving Class Complex
</span></h2> <a id='26'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ابتدا از کلاس 
    Complex
    استفاده می‌کنیم تا قابلیت‌های آن را نشان دهیم. در بخش بعدی جزئیات کلاس را شرح خواهیم داد. در ابتدا کلاس 
    Complex
    را از طریق فایل 
    complexnumber.py
    ایمپورت (
    import
    ) کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">complexnumber</span><span class="w"> </span><span class="kn">import</span> <span class="n">Complex</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعدی، چند شیء 
    Complex
    ایجاد کرده و آن‌ها را نمایش می‌دهیم. اسنیپت‌های [۳] و [۵] برای به دست آوردن نمایش رشته از هر شیء، به طور ضمنی متد 
    __repr__ 
    از کلاس 
    Complex
    را فراخوانی می‌کنند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">imaginary</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2 + 4i)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">imaginary</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5 - 1i)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">ما فرمت رشته‌ای متد 
    __repr__ 
    که در بالا نشان داده شده را انتخاب کردیم تا رشته‌های 
    __repr__ 
    تولید شده به وسیله نوع 
    Python’s built-in complex
    در پایتون را تقلید کنیم. پایتون به جای 
    i
    از 
    j
    استفاده می‌کند. به عنوان مثال، 
    $ 3+4j $
    یک شیء 
    complex
    با خصلت‌های 
    real
    و 
    imag
    ایجاد می‌کند. رشته 
    __repr__
    برای این مقدار 
    $ '(3+4j)' $
    است. در این قسمت با عملگر + دو شیء 
    Complex
    با نام‌های 
    x
    و 
    y
    را جمع می‌کنیم. این دستور قسمت‌های حقیقی دو عملوند و قسمت‌های موهومی دو عملوند را جمع و سپس یک شیء جدید 
    Complex
    که حاوی نتیجه است را برمی‌گرداند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(7 + 3i)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">عملگر + هیچ یک از عملوندهای خود را تغییر نمی‌دهد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2 + 4i)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5 - 1i)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در انتها از عملگر =+ برای جمع کردن 
    y
    با 
    x
    استفاده کرده و نتیجه را در 
    x
    ذخیره می‌کنیم. عملگر =+ عملوند سمت چپ خود را تغییر می‌دهد اما در عملوند سمت راست خود تغییری ایجاد نخواهد کرد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">+=</span> <span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(7 + 3i)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5 - 1i)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.10.2 <span style="color:#8e24aa;">تعریف کلاس Complex
</span></h2> <a id='27'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تا اینجای کار، کلاس 
    Complex
    را در عمل مشاهده کردیم، در این قسمت نگاهی به تعریف آن می‌اندازیم تا ببینیم که چگونه این قابلیت‌ها پیاده‌سازی شده‌اند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
     __init__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    __init__
    از کلاس پارامترهایی دریافت می‌کند تا 
    attribute
    های داده‌ای 
    real
    و 
    imaginary
    را مقداردهی اولیه کند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># complexnumber.py</span>
<span class="sd">&quot;&quot;&quot;Complex class with overloaded operators.&quot;&quot;&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Complex</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Complex class that represents a complex number </span>
<span class="sd">    with real and imaginary parts.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">real</span><span class="p">,</span> <span class="n">imaginary</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize Complex class&#39;s attributes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="n">real</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imaginary</span> <span class="o">=</span> <span class="n">imaginary</span>


</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Overload
    کردن عملگر +
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد ویژه و 
    override
    شده 
     __add__
    زیر، نحوه 
    overload
    کردن عملگر + را برای جمع دو شیء 
    Complex
    تعریف می‌کند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overrides the + operator.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">+</span> <span class="n">right</span><span class="o">.</span><span class="n">real</span><span class="p">,</span> 
                       <span class="bp">self</span><span class="o">.</span><span class="n">imaginary</span> <span class="o">+</span> <span class="n">right</span><span class="o">.</span><span class="n">imaginary</span><span class="p">)</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متدهایی که عملگرهای 
    binary
    را 
    overload
    می‌کنند، باید دو پارامتر داشته باشند، اولی (
    self
    ) عملوند سمت چپ و دومی (
    right
    ) عملوند سمت راست می‌باشند. متد 
    __add__
    از کلاس 
    Complex
    ، دو شیء 
    Complex
    را به عنوان آرگومان می‌گیرد و یک شیء 
    Complex
    جدید را که حاوی مجموع قسمت‌های 
    real
    و 
    imaginary
    است، برمی‌گرداند. محتوای هیچ یک از دو عملوند اصلی را تغییر نمی‌دهیم. این رویکرد با درک شهودی ما از رفتار این عملگر مطابقت دارد، چرا که جمع دو عدد، هیچ یک از مقادیر اصلی آن دو عدد را تغییر نمی‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Overload
    کردن عملگر =+
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">خطوط ۱۸ تا ۲۲ متد ویژه 
     __iadd__
    را 
    overload
    می‌کنند تا نحوه جمع دو شیء 
    Complex
    با عملگر =+ را تعریف کنند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overrides the += operator.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">+=</span> <span class="n">right</span><span class="o">.</span><span class="n">real</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imaginary</span> <span class="o">+=</span> <span class="n">right</span><span class="o">.</span><span class="n">imaginary</span>
        <span class="k">return</span> <span class="bp">self</span>


</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">عملگرهایی مانند =+ که با دستور انتساب همراه هستند، عملوندهای سمت چپ خود را اصلاح می‌کنند، بنابراین متد 
    __iadd__
    شیء 
    self
    را که نمایانگر عملوند سمت چپی است، تغییر می‌دهد و سپس 
    self
    را برمی‌گرداند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    متد 
     __repr__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    خطوط ۲۴ تا ۲۸ نمایش رشته‌ای عدد مختلط را برمی‌گرداند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">       </span><span class="sd">&quot;&quot;&quot;Return string representation for repr().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="si">}</span><span class="s1"> &#39;</span> <span class="o">+</span> 
                <span class="p">(</span><span class="s1">&#39;+&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">imaginary</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="o">+</span>
                <span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imaginary</span><span class="p">)</span><span class="si">}</span><span class="s1">i)&#39;</span><span class="p">)</span>

</pre></div>
</div>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.11 <span style="color:#F50057;">سلسله مراتب کلاس Exception و Exception های سفارشی</span></h1> <a id='28'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در فصل قبل، مدیریت 
    exception
    را معرفی کردیم. هر 
    exception
    یک شیء از کلاس در سلسله‌مراتب کلاس 
    exception
    پایتون محسوب شده یا شیئی است که از یکی از آن کلاس‌ها ارث می‌برد. کلاس‌های 
    exception
    به طور مستقیم یا غیرمستقیم از کلاس پایه 
    BaseException
    ارث می‌برند و در ماژول 
    exceptions
    تعریف می‌شوند.
    <br>
    <a href="https://docs.python.org/3/library/exceptions.html">https://docs.python.org/3/library/exceptions.html</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">پایتون چهار زیرکلاس 
    —SystemExit, KeyboardInterrupt, GeneratorExit و Exception
    را به عنوان چهار زیرکلاس اصلی کلاس 
    BaseException
    تعریف می‌کند:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>اگر استثنایی مهار نشود و مانند سایر استثناهای دیگر 
    traceback
    تولید نکند، 
    SystemExit
    اجرای برنامه را خاتمه می‌دهد (یا یک 
    interactive session
    را خاتمه می‌دهد).<br>
    <span style="color:#8e24aa;">• </span>استثناهای 
    KeyboardInterrupt
    زمانی اتفاق می‌افتد که کاربر دستور وقفه 
    Ctrl + C (یا control + C)
    را در اکثر سیستم‌ها تایپ کند.<br>
    <span style="color:#8e24aa;">• </span>استثناهای 
    GeneratorExit
    هنگام بسته شدن یک 
    generator
     اتفاق می‌افتد، هنگامی که 
    generator
    تولید مقادیر را به پایان می‌رساند و یا متد 
     close
    آن به صراحت فراخوانی شود.<br>
    <span style="color:#8e24aa;">• </span>Exception
    کلاس پایه برای اغلب استثناهای رایجی است که با آن‌ها مواجه خواهید شد. استثناهایی مانند 
    ZeroDivisionError, NameError,
    ValueError, StatisticsError, TypeError, IndexError, KeyError, RuntimeError 
    و 
    AttributeError
    را به عنوان زیرکلاس 
    Exception
    مشاهده کرده‌اید. غالبا 
    StandardError
    قابل کنترل و قابل مدیریت است، بنابراین برنامه می‌تواند به اجرای خود ادامه دهد.<br>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    کنترل استثناهای کلاس پایه
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یکی از مزایای سلسله‌مراتب کلاس 
    exception
    این است که یک 
    except handler
    می‌تواند استثناهایی از یک نوع خاص را بگیرد یا می‌تواند از یک نوع کلاس پایه برای 
    catch
    کردن استثناهای کلاس پایه و تمام استثناهای مرتبط با زیرکلاس‌های آن استفاده کند. به عنوان مثال، 
    except handler
    که کلاس پایه 
    Exception
    را مشخص می‌کند، می‌تواند تمامی اشیای مربوط به هر زیرکلاس 
    Exception
    را بگیرد. قراردادن یک 
    except handler
    که نوع 
    Exception
    را قبل از سایر 
    except handler
    ها می‌گیرد، یک خطای منطقی است؛ زیرا همه استثناها قبل از رسیدن به سایر 
    except handler
    ها به تله می‌افتند.به همین دلیل، 
    except handler
    های بعدی قابل دسترس نیستند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    کلاس‌های 
    Exception
    سفارشی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">وقتی استثنایی را از داخل کد برنامه‌تان ایجاد می‌کنید، معمولا باید از یکی از کلاس‌های استثنای موجود در کتابخانه استاندارد پایتون استفاده کنید. با این حال، با استفاده از تکنیک‌های وراثت که قبلا در این فصل ارائه شد، می‌توانید کلاس‌های استثنای سفارشی خود را ایجاد کنید که به طور مستقیم یا غیرمستقیم از کلاس 
    Exception
    اقتباس شوند. به طور کلی، این رویکرد تا حدودی خصوصا برای برنامه نویسان تازه‌کار دلسرد کننده می‌باشد. قبل از ایجاد کلاس‌های استثنای سفارشی، به دنبال یک کلاس استثنای مناسب در سلسله‌مراتب استثناهای پایتون باشید. فقط در صورت نیاز به کنترل و مدیریت استثناهای متفاوت از سایر استثناهای موجود، کلاس استثنای جدید تعریف کنید. این وضعیت به ندرت اتفاق می‌افتد.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.12 <span style="color:#F50057;">تاپل‌های نام‌گذاری شده</span></h1> <a id='29'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">شما از تاپل‌ها استفاده کرده‌اید تا چندین 
    data attribute
    را در یک شیء واحد تجمیع کنید. ماژول 
    collections
    در کتابخانه استاندارد پایتون، تاپل‌های نام‌گذاری شده را فراهم می‌کند و به شما امکان می‌دهد تا برای دست‌یابی به اعضای یک تاپل به جای شماره اندیس از نام استفاده کنید. در این قسمت یک تاپل ساده نام‌گذاری شده ایجاد می‌کنیم و با کمک آن کارت‌های موجود در یک دسته ورق را نشان می‌دهیم. در ابتدا تابع 
    namedtuple
    را 
    import
    می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">namedtuple</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تابع
    namedtuple
    یک زیرکلاس از نوع تاپل از قبل ساخته‌شده ایجاد می‌کند. اولین آرگومان تابع، 
    name
    نوع جدید شماست و آرگومان دوم لیستی از 
    رشته‌ها است. این رشته‌ها نمایانگر شناسه‌هایی هستند که برای ارجاع به اعضای نوع جدید استفاده خواهید کرد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Card</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Card&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;face&#39;</span><span class="p">,</span> <span class="s1">&#39;suit&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اکنون یک نوع تاپل جدید به نام 
    Card
    داریم که می‌توانیم از آن درهرجایی که یک تاپل استفاده می‌شود، استفاده کنیم. در این قسمت یک شیء 
    Card
    ایجاد می‌کنیم، سپس به اعضای آن با 
    name
    دسترسی پیدا کرده و نمایش رشته‌ای آن را نشان می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="n">face</span><span class="o">=</span><span class="s1">&#39;Ace&#39;</span><span class="p">,</span> <span class="n">suit</span><span class="o">=</span><span class="s1">&#39;Spades&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">face</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Ace&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">suit</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Spades&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;Ace&#39;, suit=&#39;Spades&#39;)
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    سایر ویژگی‌های تاپل‌های نام‌گذاری شده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر نوع تاپل نام‌گذاری شده، متدهای دیگری نیز دارد. متد کلاس با نام 
     make_
    (یعنی متدی که با کلاس فراخوانی می‌شود) مقادیر 
    iterable
    را دریافت می‌کند و یک شیء از نوع تاپل نام‌گذاری شده برمی‌گرداند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Queen&#39;</span><span class="p">,</span> <span class="s1">&#39;Hearts&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span> <span class="o">=</span> <span class="n">Card</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;Queen&#39;, suit=&#39;Hearts&#39;)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این رویکرد می‌تواند مفید باشد، به عنوان مثال، اگر شما یک تاپل نام‌گذاری شده دارید که رکوردها را در یک فایل 
    CSV
    نشان می‌دهد، همان طور که رکوردهای 
    CSV
    را می‌خوانید و به توکن تبدیل می‌کنید، می‌توانید آن‌ها را به اشیایی از نوع تاپل نام‌گذاری شده تبدیل کنید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای یک شیء مشخص از نوع تاپل نام‌گذاری شده، می‌توانید یک نمایش دیکشنری از نام و مقادیر اعضای آن به نام 
    OrderedDict
    به دست آورید. 
    OrderedDict
    ترتیب درج شدن زوج کلید - مقدار آن را در دیکشنری را ثبت می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">_asdict</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;face&#39;: &#39;Queen&#39;, &#39;suit&#39;: &#39;Hearts&#39;}
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای مشاهده اطلاعات بیشتر در زمینه تاپل نام‌گذاری شده، به آدرس زیر مراجعه کنید:
    <br>
    <a href="
https://docs.python.org/3/library
collections.html#collections.namedtuple
">
https://docs.python.org/3/library
collections.html#collections.namedtupe
</a>
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.13 <span style="color:#F50057;">معرفی مختصری از کلاس‌های داده جدید در پایتون ۳.۷</span></h1> <a id='30'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اگرچه تاپل‌های نام‌گذاری شده به شما این امکان را می‌دهند تا به اعضای آن‌ها با نام دسترسی داشته باشید، اما آن‌ها فقط تاپل هستند و کلاس محسوب نمی‌شوند. برای استفاده از برخی مزایای تاپل‌های نام‌گذاری شده و امکاناتی که کلاس‌های سنتی پایتون ارائه می‌دهند، می‌توانید از کلاس‌های داده جدید از ماژول 
    dataclasses
    در کتابخانه استاندارد پایتون ۳.۷ استفاده کنید.
    <br>
    <a href="https://www.python.org/dev/peps/pep-0557/">https://www.python.org/dev/peps/pep-0557/</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده از مهم‌ترین ویژگی‌های جدید پایتون ۳.۷ هستند. کلاس‌های داده به شما کمک می‌کنند با استفاده از نمادهای مختصرتر و با قابلیت ایجاد خودکار کدهایی که در بیشتر کلاس‌ها رایج‌اند، کلاس‌ها را سریع‌تر بسازید. آن‌ها می‌توانند به روش ترجیحی برای تعریف بسیاری از کلاس‌های پایتون تبدیل شوند. در این بخش، کلاس‌های داده را ارائه خواهیم داد. در انتهای بخش، لینک‌هایی را برای اطلاعات بیشتر ارائه می‌دهیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تولید خودکار کد در کلاس داده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">بیشتر کلاس‌هایی که تعریف خواهید کرد، شامل یک متد 
     __init__
    برای ایجاد و مقداردهی اولیه 
    attribute
    های یک شیء و یک متد 
     __repr__
    برای تعیین نمایش رشته‌ای سفارشی یک شیء هستند. اگر یک کلاس 
    data attribute
    های زیادی دارد، ایجاد این متدها می‌تواند خسته‌کننده باشد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده، 
    data attribute
    ها و متدهای 
     __init__
    و 
     __repr__ 
    را به طور خودکار برای شما ایجاد می‌کنند. این رویکرد می‌تواند به طور ویژه‌ای برای کلاس‌هایی که 
    data item
    های مرتبط باهم را تجمیع می‌کنند مفید باشد. به عنوان مثال، در برنامه‌ای که رکوردهای 
    CSV
    را پردازش می‌کند، ممکن است به یک کلاسی نیاز داشته باشید که فیلدهای هر رکورد را به عنوان 
    data attribute
    در یک شیء نشان دهد. علاوه براین می‌توان کلاس‌های داده را از لیستی که حاوی نام فیلدها است، به طور پویا ایجاد کرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده همچنین متد 
    __eq__
    برای 
    overload
    کردن عملگر == را به طور خودکار ایجاد می‌کنند. هر کلاسی که متد 
    __eq__
    را داشته باشد، به طور ضمنی از عملگر =! نیز پشتیبانی می‌کند. همه کلاس‌ها به طور پیش‌فرض پیاده‌سازی متد 
    __ne__
    از 
    object
    را به ارث می‌برند. این متد مقداری برعکس متد 
    __eq__
    را برمی‌گرداند (اگر 
    __eq__
    در کلاس تعریف نشده باشد، 
    NotImplemented
    را برمی‌گرداند). کلاس‌های داده عملگرهای مقایسه 
    $ <, <=, > $
    و
    $ >= $
    را به طور خودکار تولید نمی‌کنند، اما توانایی انجام این کار را دارند.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.13.1 <span style="color:#8e24aa;">ایجاد کلاس داده Card
</span></h2> <a id='31'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت کلاس 
    Card
    از بخش ۱۰.۶.۲ را به عنوان کلاس داده مجددا پیاده‌سازی می‌کنیم. کلاس جدید در 
    carddataclass.py
    تعریف شده است. همان‌طور که مشاهده خواهید کرد، تعریف کلاس داده به 
    syntax
    جدیدی نیاز دارد. در بخش‌های بعدی، از کلاس داده جدید 
    Card
    در کلاس 
    DeckOfCards
    استفاده خواهیم کرد تا نشان دهیم که با کلاس 
    Card
    اصلی قابل تعویض است، در ادامه در مورد برخی از مزایای کلاس‌های داده نسبت به تاپل‌های نام‌گذاری شده و کلاس‌های مرسوم پایتون توضیح خواهیم داد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    import
    کردن ماژول‌های 
    dataclasses
    و 
    typing
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">ماژول
    dataclasses
    در کتابخانه استاندارد پایتون، دکوراتورها و توابع را برای پیاده‌سازی کلاس‌های داده تعریف می‌کند. ما از دکوراتور 
    <code>dataclass@</code>
    استفاده 
    می‌کنیم تا مشخص کنیم کلاس جدید یک کلاس داده است و موجب می‌شود کدهای مختلفی برای شما نوشته شود. به یاد بیاورید که ما در کلاس اصلی 
    Card
    متغیرهای کلاس 
    FACES
    و 
    SUITS
    را تعریف کردیم و این دو متغیر لیستی از رشته‌ها هستند که برای مقداردهی کردن اولیه 
    Card
    ها مورد استفاده قرار می‌گیرند. از 
    ClassVar
    و 
    List
    در ماژول 
    typing
    کتابخانه استاندارد پایتون استفاده می‌کنیم تا نشان دهیم که 
    FACES
    و 
    SUITS
    متغیرهای کلاس هستند و به لیست‌ها اشاره می‌کنند. به زودی در این مورد شرح خواهیم داد:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># carddataclass.py</span>
<span class="sd">&quot;&quot;&quot;Card data class with class attributes, data attributes, </span>
<span class="sd">autogenerated methods and explicitly defined methods.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClassVar</span><span class="p">,</span> <span class="n">List</span>
</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    استفاده از دکوراتور 
     dataclass@
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای مشخص کردن این که یک کلاس، کلاس داده است قبل از تعریف آن، دکوراتور 
     <code>dataclass@</code>
    قراردهید:
    <br>
    <a href="https://docs.python.org/3/library/dataclasses.html#module-level-decoratorsclasses-and-functions">https://docs.python.org/3/library/dataclasses.html#module-level-decoratorsclasses-and-functions</a>
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Card</span><span class="p">:</span>

</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در صورت تمایل، دکوراتور 
    <code>dataclass@</code>
    ممکن است پرانتزهایی را با یک و یا چند آرگومان مشخص کند، این آرگومان‌ها به کلاس داده کمک می‌کنند تا مشخص کند چه متدهایی به طور خودکار تولید شوند و در کلاس داده قرار گیرند. به عنوان مثال، 
    <code>dataclass(order=True)@</code>
    باعث می‌شود که کلاس داده، متدهای مربوط به عملگرهای مقایسه 
    $ <, <=, > $
    و
    $ >= $
    را به صورت خودکار ایجاد و 
    overload
    کند. ممکن است این قابلیت مفید باشد. به عنوان مثال، اگر شما نیاز به مرتب کردن اشیاء کلاس داده خود داشته باشید.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    حاشیه‌نویسی متغیرها: 
    attribute
    های کلاس
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برخلاف کلاس‌های عادی، کلاس‌های داده، 
    attribute
    های کلاس و 
    attribute
    های داده را در داخل کلاس و خارج از متدهای کلاس اعلان می‌کنند. در یک کلاس معمولی، فقط 
    attribute
    های کلاس به این ترتیب اعلان می‌شوند و 
    attribute
    های داده به طور معمول در 
    __init__
    ایجاد می‌شوند. کلاس‌های داده برای تشخیص 
    attribute
    های کلاس از 
    attribute
    های داده، به اطلاعات اضافی یا راهنمایی نیاز دارند و این رویکرد بر جزئیات پیاده‌سازی متدهای تولید خودکار تأثیر می‌گذارد. خطوط ۹ تا ۱۱ 
    attribute
    های 
    FACES
    و 
    SUITS
    کلاس را تعریف و مقداردهی اولیه می‌کند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">FACES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Ace&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> 
                                  <span class="s1">&#39;8&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span> <span class="s1">&#39;Queen&#39;</span><span class="p">,</span> <span class="s1">&#39;King&#39;</span><span class="p">]</span>
    <span class="n">SUITS</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;Diamonds&#39;</span><span class="p">,</span> <span class="s1">&#39;Clubs&#39;</span><span class="p">,</span> <span class="s1">&#39;Spades&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در خطوط ۹ و ۱۱، دستور زیر
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</pre></div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک حاشیه‌نویسی متغیر است (که گاهی اوقات به آن 
    type hint
    می‌گویند) و مشخص می‌کند 
    FACES
    یک 
    attribute
    کلاس است (
    ClassVar
    ) که به لیستی از رشته‌ها اشاره دارد (
    List[str]
    ) و همچنین 
    SUITS
    یک 
    attribute
    کلاس است که به لیستی از رشته‌ها اشاره می‌کند.
    <br>
    <a href="https://www.python.org/dev/peps/pep-0526/">https://www.python.org/dev/peps/pep-0526/</a>
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    حاشیه‌نویسی متغیر یکی از ویژگی‌های جدید زبان پایتون محسوب می‌شود و برای کلاس‌های معمولی، اختیاری است و در اکثر کدهای قدیمی پایتون آن‌ها را نخواهید دید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متغیرهای کلاس در تعاریف خود مقداردهی اولیه می‌شوند و مخصوص کلاس هستند، نه اشیاء منفرد کلاس. متدهای 
    __init__, __repr__
    و 
    __eq__
    با اشیاء کلاس مورد استفاده قرارمی‌گیرند. هنگامی که یک کلاس داده این متدها را تولید می‌کند، تمام حاشیه‌نویسی‌های متغیر را بررسی می‌کند و فقط 
    attribute
    های داده را در پیاده‌سازی‌های متدها قرار می‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    حاشیه‌نویسی متغیرها: 
    attribute
    های داده‌ای
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">به طور معمول، از طریق انتساب به شکل 
    <code>self.attribute_name = value</code>
    خصلت‌های داده‌ای یک شیء را در متد 
    __init__ 
    کلاس (یا متدهای دیگری که 
    __init__ 
    فراخوانی می‌کند) ایجاد می‌کنیم. از آنجا که یک کلاس داده، متد 
    __init__ 
    خود را تولید می‌کند، به روش دیگری برای تعیین 
    attribute
    های داده‌ای در تعریف کلاس داده نیاز داریم. نمی‌توانیم به سادگی نام آن‌ها را در داخل کلاس قرار دهیم، چرا که باعث بروز خطای 
    NameError
    می‌شود:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Demo</span><span class="p">:</span>
    <span class="n">x</span>  <span class="c1"># attempting to create a data attribute x</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">مانند 
    attribute
    های کلاس، هر 
    attribute
    داده‌ای باید با حاشیه‌نویسی متغیر اعلان شود. خطوط ۱۳ و ۱۴ 
    attribute
    های داده‌ای 
    face
    و 
    suit
    را تعریف می‌کند. حاشیه‌نویسی متغیر 
    " str :"
    نشان می‌دهد که هر 
    attribute
    باید به اشیاء رشته‌ای اشاره کند:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">face</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">suit</span><span class="p">:</span> <span class="nb">str</span>
</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تعریف یک 
    Property
    و سایر متدها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده، کلاس محسوب می‌شوند، بنابراین ممکن است حاوی 
    property
    ها و متدها باشند و در سلسله‌مراتب کلاس نیز شرکت کنند. برای این کلاس داده 
    Card
    همان ویژگی 
    image_name
    فقط خواندنی و متدهای خاص و سفارشی 
     __str__
    و 
    __format__ 
    را همانند کلاس 
    Card
    اصلی که در قسمت‌های قبلی این فصل آمده است، تعریف کردیم:
</div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the Card&#39;s image file name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return string representation for str().&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">face</span><span class="si">}</span><span class="s1"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">suit</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">format</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return formatted string representation.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:{</span><span class="nb">format</span><span class="si">}}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    نکاتی در مورد حاشیه‌نویسی متغیر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">می‌توانید حاشیه‌نویسی‌های متغیر را با استفاده از نام نوع‌های 
    built-in
    (مانند 
    str, int 
    و
    float
    )، انواع کلاس یا انواع تعریف‌شده توسط ماژول 
    typing
    مشخص کنید (مانند 
    ClassVar
    و 
    List
    که قبلا نشان داده شدند). حتی با حاشیه‌نویسی نوع، پایتون هنوز از نظر نوع داده یک زبان پویا است؛ بنابراین، حاشیه‌نویسی نوع در زمان اجرا یک اجبار محسوب نمی‌شود، در نتیجه حتی اگر 
    face
    در کلاس 
     Card
    به عنوان یک رشته هم باشد، باز هم می‌توانید هر نوع شیء را به 
    face
    اختصاص دهید.
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.13.2 <span style="color:#8e24aa;">استفاده از کلاس داده Card
</span></h2> <a id='32'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت کلاس داده جدید 
     Card
    را نشان می‌دهیم. ابتدا یک 
     Card
    ایجاد می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">carddataclass</span><span class="w"> </span><span class="kn">import</span> <span class="n">Card</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="n">Card</span><span class="o">.</span><span class="n">FACES</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Card</span><span class="o">.</span><span class="n">SUITS</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعدی، از متد 
    __repr__
    در 
    Card
    که به طور خودکار تولید شده، برای نمایش 
    Card
    استفاده می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;Ace&#39;, suit=&#39;Spades&#39;)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    __str__ 
    شخصی‌سازی شده توسط ما، هنگام ارسال یک شیء 
    Card
    متد 
    print
    را فراخوانی می‌کند و رشته‌ای به فرم 
    'face of suit'
    را برمی‌گرداند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ace of Spades
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت به 
    data class’s attribute
    ها و 
    property
    های فقط خواندنی دسترسی پیدا می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span><span class="o">.</span><span class="n">face</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Ace&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span><span class="o">.</span><span class="n">suit</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Spades&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span><span class="o">.</span><span class="n">image_name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Ace_of_Spades.png&#39;
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ادامه نشان می‌دهیم که اشیایی از جنس 
    Card
    از طریق عملگر == که به طور خودکار تولید شده و عملگر =! که ارث برده شده می‌توانند مقایسه شوند. در ابتدا، دو شیء 
    Card
    جدید دیگر ایجاد می‌کنیم؛ یکی مشابه اولی و دیگری متفاوت با آن:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c2</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="n">Card</span><span class="o">.</span><span class="n">FACES</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Card</span><span class="o">.</span><span class="n">SUITS</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;Ace&#39;, suit=&#39;Spades&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c3</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="n">Card</span><span class="o">.</span><span class="n">FACES</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Card</span><span class="o">.</span><span class="n">SUITS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Card(face=&#39;Ace&#39;, suit=&#39;Hearts&#39;)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اکنون با عملگرهای == و =! اشیاء را با هم مقایسه کنید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">==</span> <span class="n">c3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">!=</span> <span class="n">c3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس داده 
    Card
    ما با کلاس 
    Card
    که قبلا در این فصل توسعه داده شده قابل تعویض است. برای نشان دادن این مطلب، فایل 
    deck2.py
    را که حاوی یک نسخه از کلاس 
    DeckOfCards
    در قسمت قبلی همین فصل بود ایجاد کردیم و کلاس داده 
    Card
    را در این فایل 
    import
    کردیم. اسنیپت‌های زیر، کلاس 
    DeckOfCards
    را 
    import
    می‌کنند، یک شیء از کلاس ایجاد می‌کنند و آن را با تابع 
    print 
    نمایش می‌دهند. به یاد بیاورید که تابع 
    print 
    به طور ضمنی متد 
    __str__
    از
    DeckOfCards
    را فراخوانی می‌کند، هر کارت را با عرض ۱۹ کاراکتر می‌کند و این فرآیند در نتیجه فراخوانی متد 
     __format__
    از 
    Card
    حاصل شده است. برای تأیید اینکه کارت‌ها به ترتیب خال 
    (Hearts, Diamonds, Clubs, Spades)
    نمایش داده می‌شوند، همه سطرها را از چپ به راست بخوانید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">deck2</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeckOfCards</span>  <span class="c1"># uses Card data class</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">deck_of_cards</span> <span class="o">=</span> <span class="n">DeckOfCards</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">deck_of_cards</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ace of Hearts      2 of Hearts        3 of Hearts        4 of Hearts        
5 of Hearts        6 of Hearts        7 of Hearts        8 of Hearts        
9 of Hearts        10 of Hearts       Jack of Hearts     Queen of Hearts    
King of Hearts     Ace of Diamonds    2 of Diamonds      3 of Diamonds      
4 of Diamonds      5 of Diamonds      6 of Diamonds      7 of Diamonds      
8 of Diamonds      9 of Diamonds      10 of Diamonds     Jack of Diamonds   
Queen of Diamonds  King of Diamonds   Ace of Clubs       2 of Clubs         
3 of Clubs         4 of Clubs         5 of Clubs         6 of Clubs         
7 of Clubs         8 of Clubs         9 of Clubs         10 of Clubs        
Jack of Clubs      Queen of Clubs     King of Clubs      Ace of Spades      
2 of Spades        3 of Spades        4 of Spades        5 of Spades        
6 of Spades        7 of Spades        8 of Spades        9 of Spades        
10 of Spades       Jack of Spades     Queen of Spades    King of Spades     
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.13.3 <span style="color:#8e24aa;">مزایای استفاده از کلاس داده نسبت به تاپل نام‌گذاری شده
</span></h2> <a id='33'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده مزایای متعددی نسبت به تاپل‌های نام‌گذاری شده دارند:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>اگرچه هر تاپل نام‌گذاری شده از نظر فنی نوع متفاوتی را نشان می‌دهد، ولی در نهایت یک تاپل نام‌گذاری شده یک تاپل است و همه تاپل‌ها را می‌توان با یکدیگر مقایسه کرد. به همین دلیل اشیایی از انواع مختلف تاپل نام‌گذاری شده در صورتی برابر تلقی می‌شوند اگر که تعداد عضو یکسانی داشته باشند و مقادیر این اعضا با یکدیگر برابر باشد. مقایسه اشیاء از کلاس‌های داده مختلف، 
    False
    را برمی‌گرداند و مقایسه یک شیء کلاس داده با یک شیء تاپل نیز مقدار 
    False
    را برمی‌گرداند.<br>
    <span style="color:#8e24aa;">• </span>اگر کدی دارید که یک تاپل را 
    unpack
    می‌کند، افزودن اعضای بیشتر به آن تاپل موجب انفصال در کد 
    unpack
    کردن تاپل می‌گردد. اشیاء کلاس داده را نمی‌توان 
    unpack
    کرد؛ بنابراین می‌توانید 
    attribute
    های داده بیشتری را بدون نیاز به تغییر کد موجود به یک کلاس داده اضافه کنید.<br>
    <span style="color:#8e24aa;">• </span>یک کلاس داده می‌تواند یک کلاس پایه یا یک زیرکلاس در سلسله‌مراتب وراثت باشد.<br>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <br>
    <a href="https://www.python.org/dev/peps/pep-0526/">https://www.python.org/dev/peps/pep-0526/</a>
</div><h2 style="direction:rtl;font-size: 25px;font-family: 'XB Zar';color:#8e24aa;">10.13.4 <span style="color:#8e24aa;">مزایای استفاده از کلاس داده نسبت به کلاس‌های مرسوم
</span></h2> <a id='34'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک کلاس داده مزایای مختلفی را نسبت به کلاس‌های مرسوم پایتون که قبلا در این بخش دیدید ارائه می‌دهند:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>یک کلاس داده 
    __init__, __repr__ و __eq__,
    را به صورت خودکار تولید می‌کند و موجب صرفه‌جویی در وقت شما می‌شود.<br>
    <span style="color:#8e24aa;">• </span>یک کلاس داده می‌تواند متدهای ویژه‌ای را برای 
    overload
    کردن عملگر‌های مقایسه 
    $ <, <=, > $
    و
    $ >= $
    به طور خودکار تولید کند.<br>
    <span style="color:#8e24aa;">• </span>هنگامی که 
        data attribute
        های تعریف شده در یک کلاس داده را تغییر می‌دهید و سپس از آن در یک اسکریپت یا 
        interactive session
        استفاده می‌کنید، کدی که به طور خودکار تولید شده به طور خودکار به‌روز می‌شود؛ بنابراین، کد کمتری برای نگهداری و اشکال‌زدایی دارید.<br>
    <span style="color:#8e24aa;">• </span>ضرورت حاشیه‌نویسی متغیر برای 
        class attribute
        ها و 
        data attribute
        ها شما را قادر می‌سازد تا از ابزار تجزیه و تحلیل کد 
        static
        استفاده کنید؛ بنابراین، ممکن است بتوانید خطاهای بیشتری را قبل از وقوع در زمان اجرا حذف کنید.<br>
    <span style="color:#8e24aa;">• </span>اگر کد شما از 
        type
        اشتباهی استفاده کند، برخی از ابزارهای تجزیه و تحلیل کد 
        static
        و 
        IDE
        ها می‌توانند حاشیه‌نویسی متغیرها را بررسی کرده و هشدارهایی را صادر کنند. این قابلیت می‌تواند به شما کمک کند قبل از اجرای کد، خطاهای منطقی را در کد خود پیدا کنید.<br>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    اطلاعات بیشتر
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کلاس‌های داده دارای قابلیت‌های افزون‌تری مانند ایجاد نمونه‌های 
    frozen
    هستند. این قابلیت موجب می‌شود بعد از ایجاد یک شیء از نوع کلاس داده نتوانید مقادیری را به 
    attribute
    های آن شیء اختصاص دهید. برای مشاهده لیست کاملی از مزایا و قابلیت‌های کلاس داده، به دو آدرس زیر مراجعه کنید:
    <br>
    <a href="https://www.python.org/dev/peps/pep-0557/">https://www.python.org/dev/peps/pep-0557/</a>
    <br>
    <a href="https://docs.python.org/3/library/dataclasses.html">https://docs.python.org/3/library/dataclasses.html
</a>
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.14 <span style="color:#F50057;">Unit Testing با Docstrings و doctest</span></h1> <a id='35'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یکی از جنبه‌های اصلی توسعه نرم‌افزار، تست کد برای اطمینان از عملکرد صحیح آن است. با این حال، حتی با تست‌های گسترده، ممکن است کد حاوی اشکال باشد. به گفته دانشمند مشهور 
    Edsger Dijkstra
    ، 
    <b>تست حضور اشکال را نشان می‌دهد، نه عدم وجود آن را</b>
    .
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ماژول 
    doctest
    و تابع 
    testmod
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کتابخانه استاندارد پایتون ماژول 
    doctest
    را ارائه داده تا به شما کمک کند کد خود را تست کنید و پس از انجام تغییرات مجددا کدتان را به راحتی تست کنید. هنگامی که تابع 
    testmod
    از ماژول 
    doctest
    را اجرا می‌کنید، این تابع 
    docstring
    مربوط به توابع، متدها و کلاس‌های شما را برای یافتن دستوراتی که قبل از آن نماد 
     <<<
    قرار دارد جست‌وجو می‌کند (نماد 
     <<<
    اعلان ورودی استاندارد مفسر پایتون را تقلید می‌کند). در خط بعدی خروجی موردنظر مشخص شده است (در صورت داشتن خروجی). در ادامه تابع 
    testmod
    این دستورات را اجرا کرده و تأیید می‌کند که آن‌ها خروجی موردنظر را تولید می‌کنند. اگر این کار را انجام ندهند، 
    testmod
    خطاهایی را نشان داده و مشخص می‌کند کدام تست‌ها ناموفق بوده‌اند؛ بنابراین می‌توانید مشکلات موجود در کد خود را پیدا کرده و برطرف کنید. هر تستی که در یک 
    docstring
    تعریف می‌کنید معمولا یک واحد خاصی از کد مانند یک تابع، یک متد یا یک کلاس را تست می‌کند. به چنین تست‌هایی، تست واحد 
    (unit test)
    گفته می‌شود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    کلاس 
    Account
    اصلاح‌شده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">فایل 
    accountdoctest.py
    شامل کلاس 
    Account
    از مثال اول این فصل است. 
    docstring
    مربوطه به متد 
     __init__ 
    را اصلاح کردیم تا شامل چهار تست باشد و هر تست می‌تواند برای اطمینان از عملکرد صحیح متد مورد استفاده قرارگیرد:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>تست موجود در خط ۱۱ یک شیء نمونه از  
    Account
    به نام 
    account1
    ایجاد می‌کند. این دستور هیچ خروجی تولید نمی‌کند.<br>
    <span style="color:#8e24aa;">• </span>اگر خط ۱۱ با موفقیت اجرا شود، تست موجود در خط ۱۲ مقدار موردنظر خصلت 
    name
    مربوط به 
    account1
    را نشان می‌دهد. خروجی نمونه در خط ۱۳ نشان داده شده است.<br>
    <span style="color:#8e24aa;">• </span>اگر خط ۱۱ با موفقیت اجرا شود، تست موجود در خط ۱۴ مقدار موردنظر خصلت 
    balance 
    مربوط به 
    account1
    را نشان می‌دهد. خروجی نمونه در خط ۱۵ نشان داده شده است.<br>
    <span style="color:#8e24aa;">• </span>تست موجود در خط ۱۸ یک شیء 
    Account
    با مانده اولیه نامعتبر ایجاد می‌کند. خروجی نمونه نشان می‌دهد که در این حالت باید یک استثنای 
    ValueError
    اتفاق بیفتد. مستندات ماژول 
    doctest
    توصیه می‌کند که هنگام بروز یک استثنا فقط اولین و آخرین خطوط 
    traceback
    را نشان دهید.<br>
    <a href="https://docs.python.org/3/library/doctest.html?highlight=doctest#module-doctest">https://docs.python.org/3/library/doctest.html?highlight=doctest#module-doctest</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">می‌توانید مانند خط ۱۷ در تست‌های خود متن توضیحی قراردهید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># accountdoctest.py</span>
<span class="sd">&quot;&quot;&quot;Account class definition.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Account</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Account class for demonstrating doctest.&quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">balance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize an Account object.</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; account1 = Account(&#39;John Green&#39;, Decimal(&#39;50.00&#39;))</span>
<span class="sd">        &gt;&gt;&gt; account1.name</span>
<span class="sd">        &#39;John Green&#39;</span>
<span class="sd">        &gt;&gt;&gt; account1.balance</span>
<span class="sd">        Decimal(&#39;50.00&#39;)</span>

<span class="sd">        The balance argument must be greater than or equal to 0.</span>
<span class="sd">        &gt;&gt;&gt; account2 = Account(&#39;John Green&#39;, Decimal(&#39;-50.00&#39;))</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">        ValueError: Initial balance must be &gt;= to 0.00.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># if balance is less than 0.00, raise an exception</span>
        <span class="k">if</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Initial balance must be &gt;= to 0.00.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">deposit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deposit money to the account.&quot;&quot;&quot;</span>

        <span class="c1"># if amount is less than 0.00, raise an exception</span>
        <span class="k">if</span> <span class="n">amount</span> <span class="o">&lt;</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.00&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;amount must be positive.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">+=</span> <span class="n">amount</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Trying:
    account1 = Account(&#39;John Green&#39;, Decimal(&#39;50.00&#39;))
Expecting nothing
ok
Trying:
    account1.name
Expecting:
    &#39;John Green&#39;
ok
Trying:
    account1.balance
Expecting:
    Decimal(&#39;50.00&#39;)
ok
Trying:
    account2 = Account(&#39;John Green&#39;, Decimal(&#39;-50.00&#39;))
Expecting:
    Traceback (most recent call last):
        ...
    ValueError: Initial balance must be &gt;= to 0.00.
ok
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10 items had no tests:
    __main__
    __main__.Account
    __main__.Account.deposit
    __main__.Demo
    __main__.Demo.__eq__
    __main__.Demo.__init__
    __main__.Demo.__repr__
    __main__.WellPaidDuck
    __main__.WellPaidDuck.__repr__
    __main__.WellPaidDuck.earnings
1 items passed all tests:
   4 tests in __main__.Account.__init__
4 tests in 11 items.
4 passed and 0 failed.
Test passed.
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    ماژول 
     __main__
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">وقتی ماژولی را 
    load
    می‌کنید، پایتون یک رشته حاوی نام ماژول را به یک 
    global attribute
    ماژول به نام 
    __name__
    اختصاص می‌دهد. هنگامی که یک فایل سورس کد پایتون (مانند 
    accountdoctest.py
    ) را به عنوان یک اسکریپت اجرا می‌کنید، پایتون از رشته 
     '__main__' 
    به عنوان نام ماژول استفاده می‌کند. می‌توانید از 
     __name__
    در یک دستور 
    if
    مانند خطوط ۴۰ تا ۴۲ استفاده کنید و شرط بگذارید فقط در صورت اجرای فایل سورس کد به صورت اسکریپت، کدهای برنامه اجرا شوند. در این مثال، خط ۴۱ ماژول 
    doctest
    را 
    import
    می‌کند و خط ۴۲ برای اجرای تست‌های واحد 
    docstring
    تابع 
    testmod
    ماژول را فراخوانی می‌کند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    اجرای تست‌ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">فایل 
    accountdoctest.py
    را به عنوان یک اسکریپت اجرا کنید تا تست‌های آن اجرا شوند. به طور پیش‌فرض، اگر 
    testmod
    را بدون هیچ آرگومانی فراخوانی کنید، نتایج تست را برای تست‌های موفق نشان نمی‌دهد. در این صورت، اگر خروجی نشان داده نشود، معرف آن است که تمامی تست‌ها با موفقیت اجرا شده‌اند. در خط ۴۲ این مثال، 
    testmod
    با آرگومان کلیدی 
    <code>verbose=True</code>
    فراخوانی شده است و به 
    testmod
    می‌گوید که خروجی مناسبی را برای نتایج هر تست نشان دهد:
</div><p><img alt="Screenshot (78).png" src="Chapters/10 - Object-Oriented-Programming/attachment:2cafdbe6-ccfc-4863-bfed-9122035315fa.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در حالت 
    verbose
    ، می‌بینیم که 
    testmod
    نشان می‌دهد برای هر تست قصد انجام چه کاری را دارید 
    "Trying"
    ، چه استثنایی ممکن است روی دهد 
    "Expecting"
    و در صورت موفقیت‌آمیز بودن تست، عبارت 
    "ok"
    را نشان می‌دهد. 
    testmod
    در حالت 
    verbose
    پس از اتمام تست‌ها خلاصه‌ای از نتایج را نشان می‌دهد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای نشان دادن یک تست ناموفق، در ابتدای سطرهای ۲۵ و ۲۶ در 
    accountdoctest.py
    کاراکتر 
     #
    قرار می‌دهیم تا این خطوط به 
    comment
    تبدیل شوند و سپس 
    accountdoctest.py
    را به عنوان یک اسکریپت اجرا می‌کنیم. برای صرفه‌جویی در فضا، فقط بخش‌هایی از خروجی تست را نشان می‌دهیم که معرف عدم موفقیت تست است:
</div><p><img alt="Screenshot (79).png" src="Chapters/10 - Object-Oriented-Programming/attachment:adefeee9-58b7-430d-b3ee-1bdc8aec7f55.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این حالت، می‌بینیم که تست موجود در خط ۱۸ با شکست مواجه شده است. تابع 
    testmod
    انتظار یک 
    traceback
    داشت تا نشان دهد یک 
    ValueError
    به دلیل مقداردهی نادرست 
    balance
    روی داده است. این اسثتنا اتفاق نیفتاد و به همین دلیل تست با موفقیت اجرا نشد. به عنوان برنامه نویسی که مسئول تعریف این کلاس هستید، این تست ناموفق می‌تواند نشانه‌ای از اشتباه بودن کد اعتبارسنجی در متد 
     __init__
    شما باشد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    IPython %doctest_mode Magic
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک روش مناسب برای ایجاد 
    doctest
    برای کد موجود، استفاده از یک 
    IPython interactive session
    برای تست کد شما است و در ادامه آن جلسه را در یک 
    docstring
    کپی و پیست کنید. اعلان‌های موجود در 
    [] In
    و 
    [] Out
    در 
    IPython
    با 
    doctest
    سازگار نیستند، بنابراین 
    IPython
    با استفاده از مجیک 
    doctest_mode%
    اعلان‌ها را در فرمت صحیح 
    doctest
    نشان می‌دهد. مجیک بین دو سبک اعلان جابجا می‌شود. اولین بار که 
    doctest_mode%
    را اجرا می‌کنید، 
    IPython
    به اعلان 
    <<<
    برای ورودی سوئیچ می‌کند و هیچ اعلانی برای خروجی ندارد. بار دوم که حالت 
    doctest_mode%
    را اجرا می‌کنید، 
    IPython
    به اعلان‌های 
    [] In
    و 
    [] Out
    بازمی‌گردد.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.15 <span style="color:#F50057;">Namespaces و Scopes</span></h1> <a id='36'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در فصل توابع، نشان دادیم که هر شناسه دارای حوزه‌ای است که تعیین می‌کند در کجا می‌توانید از آن در برنامه خود استفاده کنید و در ادامه حوزه‌های محلی و سراسری 
    (local and global scopes)
    را معرفی کردیم. در اینجا بحثمان را در مورد حوزه‌ها و با مقدمه‌ای درباره 
     namespaces
    ادامه می‌دهیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">حوزه‌ها توسط 
    namespaces
    تعیین می‌شوند و در حقیقت شناسه‌ها را با اشیاء مرتبط می‌کنند و در پس‌زمینه به عنوان دیکشنری پیاده‌سازی می‌شوند. همه 
    namespace
    ها از یکدیگر مستقل هستند؛ بنابراین ممکن است یک شناسه در چندین 
    namespace
    ظاهر شود. سه 
    namespace
    اصلی وجود دارد: 
    local, global و built-in
    .
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Local Namespace
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر تابع و متد دارای یک 
    local namespace
    است که شناسه‌های محلی (مانند پارامترها و متغیرهای محلی) را با اشیاء مرتبط می‌کند. 
    local namespace
    از لحظه فراخوانی تابع یا متد تا زمان خاتمه یافتن و فقط برای آن تابع یا متد قابل‌دسترسی است. در مجموعه دستورات یک تابع یا متد، انتساب به متغیری که وجود ندارد، موجب ایجاد یک متغیر محلی شده و آن را به 
    local namespace
    اضافه می‌کند. شناسه‌ها در 
    local namespace
    از نقطه‌ای که شما آن‌ها را تعریف می‌کنید تا خاتمه تابع یا متد در 
    scope
    قرار دارند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Global Namespace
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر ماژول دارای یک 
    global namespace
    است که شناسه‌های سراسری یک ماژول (مانند متغیرهای سراسری، نام توابع و نام کلاس‌ها) را با اشیاء مرتبط می‌کند. پایتون هنگام بارگذاری ماژول، 
    global namespace
    ماژول را ایجاد می‌کند. 
    global namespace
    یک ماژول تا زمانی که برنامه (یا جلسه تعاملی) خاتمه نیابد وجود دارد و شناسه‌های آن در 
    scope
    کد موجود در آن ماژول قرار دارند. یک 
    IPython session
    برای تمام شناسه‌هایی که در آن 
    session
    ایجاد می‌کنید 
    global namespace
    مخصوص به خود را دارد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر 
    global namespace
    یک ماژول دارای یک شناسه به نام 
     __name__
    است، این شناسه حاوی نام ماژول است. برای مثال 
    'math'
    برای ماژول 
    math
    و یا 
    'random'
    برای ماژول 
    random
    . همان‌طور که در مثال 
    doctest
    در قسمت قبلی دیدید برای فایلی که با پسوند 
    py.
    به عنوان یک اسکریپت اجرا می‌شود، شناسه 
     __name__
    حاوی مقدار 
     '__main__'
    است.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Built-In Namespace
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">built-in namespace
    شامل شناسه‌هایی است که توابع داخلی پایتون (مانند 
    input
    و 
    range
    ) و نوع داده‌ها (مانند 
    int, float و str
    ) را با اشیائی که این توابع و نوع داده‌ها را تعریف می‌کنند، مرتبط می‌کند. هنگامی که اجرای مفسر شروع می‌شود، پایتون 
    built-in namespace
    را ایجاد می‌کند. تا زمانی‌که برنامه (جلسه تعاملی) خاتمه نیابد، شناسه‌های 
    built-in namespace
    برای تمامی کدها در 
    scope
    باقی می‌مانند. این 
    namespace
    فرض می‌کند که با تعریف مجدد شناسه‌های آن در یک 
    local
    یا 
    global namespace
    ، توابع 
    built-in
    یا 
    built-in type
    ها را تحت‌الشعاع قرار نمی‌دهید. در بخش توابع، درمورد اثر سایه‌ای صحبت کردیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    یافتن شناسه‌ها در 
    Namespace
    ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هنگامی که از شناسه استفاده می‌کنید، پایتون این شناسه را در یک 
    namespace
    که در حال حاضر قابل دسترسی است، جست‌وجو می‌کند و جست‌وجو را از 
    local
    به 
    global
    و سپس 
    built-in
    ادامه می‌دهد. برای کمک به شما در درک ترتیب جست‌وجوی 
    namespaceها
    ، جلسه 
    IPython
    زیر را درنظر بگیرید:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="s1">&#39;global z&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">print_variables</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;local y in print_variables&#39;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">print_variables</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>local y in print_variables
global z
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">شناسه‌هایی که در یک جلسه 
    IPython
    تعریف می‌کنید در 
    global namespace
    این جلسه قرار می‌گیرند. هنگامی‌که در اسنیپت [۳] 
    print_variables
    را فراخوانی می‌کنید، پایتون 
    local, 
    global
    و
    built-in namespaces
    را به شرح زیر جست‌وجو می‌کند:
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span>اسنیپت [۳] در یک تابع یا متد قرار ندارد، بنابراین در حال حاضر 
    global namespace و built-in namespace
    این جلسه قابل دسترسی هستند. پایتون ابتدا 
    global namespace
    جلسه را که شامل 
    print_variables
    است، جست‌وجو می‌کند؛ مشاهده می‌شود که 
    print_variables
    در 
    scope
    قرار دارد و پایتون از شیء مربوطه برای فراخوانی 
    print_variables
    استفاده می‌کند.<br><br>
    <span style="color:#8e24aa;">• </span>با شروع اجرای 
    print_variables
    پایتون 
     local namespace
    تابع را ایجاد می‌کند. هنگامی‌که تابع 
    print_variables
    متغیر محلی 
    y
    را تعریف می‌کند، پایتون 
    y
    را به 
    local namespace
    تابع اضافه می‌کند. متغیر 
    y
    از الان تا زمان خاتمه اجرای تابع در 
    scope 
    قرار دارد.<br><br>
    <span style="color:#8e24aa;">• </span>در ادامه 
    print_variables
    با استفاده از 
    y
    به عنوان آرگومان، تابع داخلی 
    print
    را فراخوانی می‌کند. پایتون برای اجرای این فراخوانی باید تکلیف شناسه‌های 
    y
    و 
    print
    را مشخص کند. شناسه 
    y
    در 
    local namespace
    تعریف شده است، بنابراین در 
    scope
    قرار دارد و پایتون از شیء مربوطه (
    the string 'local y in print_variables'
    ) به عنوان آرگومان 
    print
    استفاده می‌کند. برای فراخوانی این تابع، پایتون باید شیء مربوط به 
    print
    را پیدا کند. ابتدا آن را در 
    local namespace
    جست‌وجو می‌کند و تعریفی برای 
    print
    پیدا نمی‌کند. سپس، در 
    global namespace
    جلسه جست‌وجو می‌کند و تعریفی برای 
    print
    پیدا نمی‌کند. سرانجام در 
    built-in namespace
    جست‌وجو می‌کند و تعریف 
    print
    را پیدا می‌کند؛ بنابراین، 
    print
    در 
    scope
    قرار دارد و پایتون از شیء مربوطه برای فراخوانی 
    print
    استفاده می‌کند.<br><br>
    <span style="color:#8e24aa;">• </span>در ادامه 
    print_variables
    با استفاده از 
    z
    به عنوان آرگومان، تابع داخلی 
    print
    را فراخوانی می‌کند و شناسه 
    z
    در 
    local namespace
    تعریف نشده است. به همین دلیل پایتون 
    global namespace
    را جست‌وجو می‌کند. شناسه 
    z
    در 
    scope
    قرار دارد و پایتون از شیء مربوطه (
    the string 'global z'
    ) به عنوان آرگومان 
    print
    استفاده می‌کند. مجددا پایتون شناسه 
    print
    را در 
    built-in namespace
    پیدا می‌کند و از شیء مربوطه برای فراخوانی 
    print
    استفاده می‌کند.<br><br>
    <span style="color:#8e24aa;">• </span>در این لحظه به انتهای مجموعه دستورات تابع 
    print_variables
    رسیده‌ایم، بنابراین تابع خاتمه می‌یابد و 
    local namespace
    این تابع دیگر وجود ندارد؛ این بدان معنا است که هم‌اکنون متغیر محلی 
    y
    تعریف شده نیست.<br>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای اثبات آن که 
    y
    تعریف‌شده نیست، سعی می‌کنیم 
    y
    را نمایش دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5 - 1i)
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این حالت، هیچ 
    local namespace
    وجود ندارد، بنابراین پایتون 
    y
    را در 
    global namespace
    جلسه جست‌وجو می‌کند. شناسه 
    y
    در آنجا تعریف نشده است، بنابراین پایتون 
    y
    را در 
     built-in namespace
    جست‌وجو می‌کند. دوباره پایتون 
    y
    را پیدا نمی‌کند. دیگر 
    namespace
    برای جست‌وجو وجود ندارد، بنابراین پایتون استثنای 
    NameError
    را ایجاد می‌کند و نشان می‌دهد 
    y
    تعریف نشده است. شناسه‌های 
    print_variables
    و 
    z
    هنوز در 
    global namespace
    جلسه وجود دارند، بنابراین می‌توانیم به استفاده از آن‌ها ادامه دهیم. برای مثال، کد زیر مقدار 
    z
    را ارزیابی می‌کند تا مقدار آن را ببینیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;global z&#39;
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    توابع تودرتو
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یکی از
    namespace
    هایی که در بحث قبلی به آن نپرداختیم، 
    enclosing namespace
    است. پایتون به شما این امکان را می‌دهد که توابع تودرتو را در داخل توابع یا متدهای دیگر تعریف کنید. به عنوان مثال، اگر یک تابع یا متد چندین بار وظیفه مشابهی را انجام دهد، ممکن است برای جلوگیری از تکرار کد در 
    enclosing function
    ، یک تابع تودرتو تعریف کنید. هنگامی که به یک شناسه در داخل یک تابع تودرتو دسترسی پیدا می‌کنید، پایتون ابتدا 
    local namespace
    تابع درونی، سپس 
    enclosing function’s namespace
    در ادامه 
    global namespace
    و در آخر 
    built-in namespace
    را جست‌وجو می‌کند. این قانون بعضا به عنوان قانون 
    LEGB (local, enclosing, global, 
built-in)
    شناخته می‌شود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Class Namespace
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک کلاس دارای یک 
    namespace
    است که 
    attribute
    های کلاس در آن ذخیره می‌شوند. هنگامی‌که به یک 
    attribute
    کلاس دسترسی پیدا می‌کنید، پایتون ابتدا آن 
    attribute
    را در 
    namespace
    کلاس، سپس در 
    namespace
    کلاس پایه و... جست‌وجو می‌کند تا اینکه یا 
    attribute
    را پیدا کند یا به کلاس 
    object
    برسد. اگر 
    attribute
    پیدا نشود، یک خطای 
    NameError
    رخ می‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Object Namespace
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">هر شیء 
    namespace
    مختص خود را دارد که حاوی متدها و 
    data attribute
    های شیء می‌باشد. متد 
    __init__
    با یک شیء خالی 
    (self)
    شروع می‌شود و هر 
    attribute
    را به 
    namespace
    شیء اضافه می‌کند. هنگامی‌که یک 
    attribute
    را در 
    namespace
    یک شیء تعریف می‌کنید، 
    client
    هایی که از این شیء استفاده می‌کنند ممکن است به مقادیر این 
    attribute
    دسترسی داشته باشند.
</div><h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.16 <span style="color:#F50057;">مقدمه‌ای بر علم داده: سری‌های زمانی و رگرسیون خطی ساده</span></h1> <a id='37'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تا اینجای کار دنباله‌هایی مانند لیست‌ها، تاپل‌ها و آرایه‌ها را بررسی کردیم. در این بخش، درباره سری‌های زمانی صحبت خواهیم کرد. در حقیقت سری‌های زمانی دنباله‌هایی از مقادیر 
    (observations)
    در بازه‌های زمانی هستند. برای مثال بسته شدن روزانه قیمت سهام، قرائت دمای ساعتی، تغییر موقعیت هواپیما در پرواز، بازدهی محصول سالانه و سود سه‌ماهه شرکت مثال‌هایی از این دست محسوب می‌شوند. شاید سری زمانی جریان توئیت‌هایی که دارای مهر زمان هستند و از طرف کاربران توییتر در سراسر جهان منتشر می‌شوند، بزرگ‌ترین سری زمانی باشد. در بخش داده‌کاوی توییتر، داده‌های توییتر را به طور عمیق مطالعه خواهیم کرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این بخش از یک تکنیک به نام رگرسیون خطی ساده برای پیش‌بینی با داده‌های سری زمانی استفاده خواهیم کرد. از متوسط دماهای بالای نیویورک در ماه ژانویه از سال ۱۸۹۵ تا سال ۲۰۱۸ استفاده خواهیم کرد تا متوسط درجه حرارت بالا را برای آینده پیش‌بینی کنیم و میانگین درجه حرارت بالا را برای سال‌های قبل از سال ۱۸۹۵ تخمین بزنیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در فصل یادگیری ماشین، این مثال را با استفاده از کتابخانه 
    scikit-learn
    دوباره مرور خواهیم کرد. در فصل یادگیری عمیق، برای تجزیه و تحلیل سری‌های زمانی از شبکه‌های عصبی بازگشتی 
    recurrent neural networks (RNNs)
    استفاده خواهیم کرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در فصل‌های بعدی، خواهیم دید که سری‌های زمانی در برنامه‌های مالی و اینترنت اشیاء 
    (IoT)
    بسیار رایج هستند و در فصل 
    Big Data: Hadoop, Spark, 
NoSQL and IoT
    در این مورد صحبت خواهیم کرد.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این بخش، نمودارهایی را با 
    Seaborn
    و 
    pandas
    نمایش می‌دهیم و از آنجائی که هر دو از 
    Matplotlib
    استفاده می‌کنند، 
    IPython
    را با پشتیبانی از 
    Matplotlib
    راه‌اندازی می‌کنیم:
</div><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ipython</span> <span class="o">--</span><span class="n">matplotlib</span>
</pre></div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    سری‌های زمانی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">داده‌هایی که استفاده خواهیم کرد، یک سری زمانی هستند که مشاهدات آن بر اساس سال مرتب شده‌اند. سری‌های زمانی تک متغیره در هر زمان یک مشاهده دارند، برای مثال میانگین دمای بالای نیویورک در ژانویه برای یک سال خاص. سری‌های زمانی چند متغیره، دو یا چند مشاهده در هر زمان دارند، مانند دما، رطوبت و فشار جوی در یک برنامه آب و هوا. در این قسمت یک سری زمانی تک متغیره را تجزیه و تحلیل خواهیم کرد. 
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">اغلب دو کار با سری‌های زمانی انجام می‌شود:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span><b>تجزیه و تحلیل سری زمانی،</b>
    داده‌های سری زمانی موجود را برای الگوها بررسی می‌کند و به تحلیلگران داده کمک می‌کند تا داده‌ها را درک کنند. یک کار تجزیه و تحلیل معمول، جست‌وجوی فصلی بودن در داده‌ها است. به عنوان مثال، در شهر نیویورک، میانگین دمای بالای ماهانه بر اساس فصول (زمستان، بهار، تابستان و پاییز) به طور قابل توجهی متفاوت است.<br>
    <span style="color:#8e24aa;">• </span><b>پیش‌بینی سری زمانی،</b>
    از داده‌های گذشته برای پیش‌بینی آینده استفاده می‌کند.<br><br>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این بخش پیش‌بینی سری زمانی را انجام خواهیم داد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    رگرسیون خطی ساده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">با استفاده از تکنیکی به نام رگرسیون خطی ساده، یک رابطه خطی بین ماه‌های ژانویه (ژانویه هر سال) و متوسط دماهای بالای این ماه در شهر نیویورک پیدا کرده و با کمک آن پیش‌بینی می‌کنیم. با توجه به مجموعه‌ای از مقادیر که نشان‌دهنده یک متغیر مستقل (ترکیب ماه / سال) و متغیر وابسته (میانگین دمای بالا برای آن ماه / سال) هستند، رگرسیون خطی ساده رابطه بین این متغیرها را با یک خط مستقیم، به نام خط رگرسیون توصیف می‌کند.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    رابطه‌های خطی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای درک مفهوم کلی رابطه خطی، دمای فارنهایت و سانتی‌گراد را در نظربگیرید. اگر دمای فارنهایت را داشته باشیم، با استفاده از فرمول زیر می‌توانیم دمای سانتی‌گراد مربوطه را محاسبه کنیم:
</div>
$ c = \frac{5}{9} \left(f - 32\right) $<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این فرمول، 
    f
    (دمای فارنهایت) متغیر مستقل است و 
    c
    (دمای سانتی‌گراد) متغیر وابسته است - هر مقدار 
    c
    به مقدار 
    f
    استفاده شده در محاسبه بستگی دارد. رسم دمای فارنهایت و دمای سانتی‌گراد مربوط به آن‌ها یک خط مستقیم ایجاد می‌کند. برای نشان دادن این مطلب، ابتدا یک لامدا برای فرمول قبلی ایجاد کرده و از آن برای محاسبه معادل سانتی‌گراد دمای فارنهایت استفاده می‌کنیم. مقادیر دمای فارنهایت از ۰ تا ۱۰۰ فارنهایت و با گام ۱۰ درجه می‌باشند. هر زوج فارنهایت / سانتی‌گراد را در تاپل 
    temps
    ذخیره می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">c</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">9</span> <span class="o">*</span> <span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">131</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;inline&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">c</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">f</span><span class="p">:</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">9</span> <span class="o">*</span> <span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:2504,</span> in <span class="ni">InteractiveShell.run_line_magic</span><span class="nt">(self, magic_name, line, _stack_depth)</span>
<span class="g g-Whitespace">   </span><span class="mi">2502</span>     <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;local_ns&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_local_scope</span><span class="p">(</span><span class="n">stack_depth</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2503</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">builtin_trap</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">2504</span>     <span class="n">result</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2506</span> <span class="c1"># The code below prevents the output from being displayed</span>
<span class="g g-Whitespace">   </span><span class="mi">2507</span> <span class="c1"># when using magics with decorator @output_can_be_silenced</span>
<span class="g g-Whitespace">   </span><span class="mi">2508</span> <span class="c1"># when the last Python token in the expression is a &#39;;&#39;.</span>
<span class="g g-Whitespace">   </span><span class="mi">2509</span> <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">magic</span><span class="o">.</span><span class="n">MAGIC_OUTPUT_CAN_BE_SILENCED</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/magics/pylab.py:103,</span> in <span class="ni">PylabMagics.matplotlib</span><span class="nt">(self, line)</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span>     <span class="nb">print</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span>         <span class="s2">&quot;Available matplotlib backends: </span><span class="si">%s</span><span class="s2">&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">100</span>         <span class="o">%</span> <span class="n">_list_matplotlib_backends_and_gui_loops</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">102</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">103</span>     <span class="n">gui</span><span class="p">,</span> <span class="n">backend</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">enable_matplotlib</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">gui</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_show_matplotlib_backend</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">gui</span><span class="p">,</span> <span class="n">backend</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:3787,</span> in <span class="ni">InteractiveShell.enable_matplotlib</span><span class="nt">(self, gui)</span>
<span class="g g-Whitespace">   </span><span class="mi">3784</span>     <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib_inline.backend_inline</span>
<span class="g g-Whitespace">   </span><span class="mi">3786</span> <span class="kn">from</span><span class="w"> </span><span class="nn">IPython.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">pylabtools</span> <span class="k">as</span> <span class="n">pt</span>
<span class="ne">-&gt; </span><span class="mi">3787</span> <span class="n">gui</span><span class="p">,</span> <span class="n">backend</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">find_gui_and_backend</span><span class="p">(</span><span class="n">gui</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pylab_gui_select</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3789</span> <span class="k">if</span> <span class="n">gui</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3790</span>     <span class="c1"># If we have our first gui selection, store it</span>
<span class="g g-Whitespace">   </span><span class="mi">3791</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pylab_gui_select</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/IPython/core/pylabtools.py:338,</span> in <span class="ni">find_gui_and_backend</span><span class="nt">(gui, gui_select)</span>
<span class="g g-Whitespace">    </span><span class="mi">321</span> <span class="k">def</span><span class="w"> </span><span class="nf">find_gui_and_backend</span><span class="p">(</span><span class="n">gui</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gui_select</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">322</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Given a gui string return the gui and mpl backend.</span>
<span class="g g-Whitespace">    </span><span class="mi">323</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">324</span><span class="sd">     Parameters</span>
<span class="sd">   (...)    335     &#39;WXAgg&#39;,&#39;Qt4Agg&#39;,&#39;module://matplotlib_inline.backend_inline&#39;,&#39;agg&#39;).</span>
<span class="g g-Whitespace">    </span><span class="mi">336</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">338</span>     <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
<span class="g g-Whitespace">    </span><span class="mi">340</span>     <span class="k">if</span> <span class="n">_matplotlib_manages_backends</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">341</span>         <span class="n">backend_registry</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">backend_registry</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;matplotlib&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">f</span><span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="n">f</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">132</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">temps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">f</span><span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="n">f</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>

<span class="nn">Cell In[132], line 1,</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">temps</span> <span class="o">=</span> <span class="p">[(</span><span class="n">f</span><span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="n">f</span><span class="p">))</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>

<span class="ne">TypeError</span>: &#39;CommissionEmployee&#39; object is not callable
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعد، داده‌ها را در 
    DataFrame
    قرار می‌دهیم و سپس از متد 
    plot
    برای نمایش رابطه خطی بین دمای فارنهایت و سانتی‌گراد استفاده می‌کنیم. آرگومان کلیدی 
    style
    شکل ظاهری داده‌ها را کنترل می‌کند. نقطه‌ها در رشته 
    '-.'
    نشان می‌دهند که هر داده باید به صورت یک نقطه ظاهر شود و خط فاصله نشان می‌دهد که نقاط باید با خطوط به ‌هم متصل شوند. برچسب محور عمودی را به صورت دستی و با رشته 
    'Celsius'
    تنظیم می‌کنیم زیرا متد 
    plot
    به صورت پیش‌فرض رشته 
    'Celsius'
    را فقط در علائم اختصاری و در گوشه سمت چپ و بالای نمودار نشان می‌دهد.
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">133</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;pandas&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temps_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temps</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fahrenheit&#39;</span><span class="p">,</span> <span class="s1">&#39;Celsius&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">134</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">temps_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temps</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Fahrenheit&#39;</span><span class="p">,</span> <span class="s1">&#39;Celsius&#39;</span><span class="p">])</span>

<span class="ne">NameError</span>: name &#39;pd&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span> <span class="o">=</span> <span class="n">temps_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Fahrenheit&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Celsius&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;.-&#39;</span><span class="p">)</span>

<span class="n">y_label</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Celsius&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">135</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">temps_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Fahrenheit&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Celsius&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;.-&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">y_label</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Celsius&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;temps_df&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    اجزای معادله رگرسیون خطی ساده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">نقاط روی یک خط مستقیم (در فضای دو بعدی) را مانند نقاطی که در نمودار نشان داده شده‌اند، می‌توان با معادله زیر محاسبه کرد:
</div>
<p><span class="math notranslate nohighlight">\(y = mx + b\)</span></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این معادله:
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span><b>m  </b>شیب خط می‌باشد.<br>
    <span style="color:#8e24aa;">• </span><b>b  </b>عرض از مبدأ و یا محل تلاقی خط با محور 
    y
    ها است (در x = 0).<br>
    <span style="color:#8e24aa;">• </span><b>x  </b>متغیر مستقل است (تاریخ در این مثال).<br>
    <span style="color:#8e24aa;">• </span><b>y  </b>متغیر وابسته است (دما در این مثال).<br><br>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در رگرسیون خطی ساده، 
    y
    مقدار پیش‌بینی شده برای یک مقدار مفروض 
    x
    می‌باشد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    تابع 
    linregress
    از ماژول 
    stats
    در 
    SciPy
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">رگرسیون خطی ساده، شیب 
    (m)
    و عرض از مبدأ 
    (b)
    یک خط مستقیم را به گونه‌ای تعیین می‌کند تا بیشترین تطابق را با داده‌های شما داشته باشد. نمودار زیر را در نظر بگیرید؛ این نمودار، چند نقطه از داده‌های سری زمانی را نشان می‌دهد و در این بخش آن‌ها را به همراه خط رگرسیون مربوطه پردازش می‌کنیم. برای نشان دادن فاصله هر نقطه داده از خط رگرسیون، خطوط عمودی را اضافه کردیم.
</div><p><img alt="Screenshot (80).png" src="Chapters/10 - Object-Oriented-Programming/attachment:7171e23a-3008-4ce7-9039-2a3db8c9b127.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">الگوریتم رگرسیون خطی ساده به صورت تکراری شیب و عرض از مبدأ را تنظیم می‌کند و برای هر تنظیم، مربع فاصله هر نقطه از خط را محاسبه می‌کند. بهترین تطابق زمانی اتفاق می‌افتد که مقادیر شیب و عرض از مبدأ، مجموع مربعات فواصل هر نقطه از خط را به حداقل برسانند. این روش به عنوان روش محاسبه حداقل مربعات معمولی 
    ordinary least squares
    شناخته می‌شود.
    <br>
    <a href="https://en.wikipedia.org/wiki/Ordinary_least_squares">https://en.wikipedia.org/wiki/Ordinary_least_squares</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کتابخانه
    SciPy
    به طور گسترده‌ای برای مهندسی، علوم و ریاضیات در پایتون مورد استفاده قرار می‌گیرد. تابع 
    linregress
    این کتابخانه 
    (from the scipy.stats module)
    برای شما رگرسیون خطی ساده‌ای انجام می‌دهد. پس از فراخوانی 
    linregress
    شیب و عرض از مبدأ در معادله 
    $ y = mx + b $
    را جایگذاری کرده و پیش‌بینی کنید.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Pandas
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در سه بخش قبلی و در قسمت مقدمه‌ای بر علم داده، برای کار با داده‌ها از 
    pandas
    استفاده کردید. در ادامه کتاب استفاده از 
    pandas
    را ادامه خواهید داد. در این مثال، داده‌های مربوط به میانگین دمای بالای نیویورک طی سال‌های ۱۸۹۵ تا ۲۰۱۸ را از یک فایل
    CSV
    در یک 
    DataFrame
    بارگذاری خواهیم کرد. در ادامه داده‌های مورد استفاده در این مثال را فرمت می‌کنیم.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    Seaborn Visualization
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">ما از
    Seaborn
    برای رسم داده‌های موجود در 
    DataFrame
    با یک خط رگرسیون استفاده می‌کنیم که میانگین روند دمای بالا در دوره ۱۸۹۵ تا ۲۰۱۸ را نشان می‌دهد.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    دریافت اطلاعات آب و هوا از 
    NOAA
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت داده‌هایی را برای مطالعه خود به دست می‌آوریم. اداره کل اقیانوس‌شناسی و جوشناسی 
    (NOAA)
    اطلاعات تاریخی زیادی از جمله سری‌های زمانی برای متوسط دما در شهرهای خاص و در بازه‌های زمانی مختلف ارائه می‌دهد.
    <a href="http://www.noaa.gov">http://www.noaa.gov</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">سری زمانی میانگین دمای بالا در ماه ژانویه شهر نیویورک را از سال ۱۸۹۵ تا ۲۰۱۸ از آدرس زیر و با مضمون 
    “Climate at a Glance”
    به دست آورده‌ایم.
    <a href="https://www.ncdc.noaa.gov/cag/">
https://www.ncdc.noaa.gov/cag/</a>
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این صفحه وب، می‌توانید دما، بارندگی و سایر داده‌ها را برای کل ایالات‌متحده، مناطق ایالات‌متحده، ایالت‌ها، شهرها و سایر موارد انتخاب کنید. هنگامی‌که منطقه و چهارچوب زمانی را تنظیم کردید، برای نمایش نمودار و مشاهده جدول داده‌های انتخاب شده، بر روی گزینه 
    Plot
    کلیک کنید. در بالای آن جدول، لینک‌هایی برای دانلود کردن داده‌ها در چندین قالب از جمله 
    CSV
    وجود دارد. فرمت 
    CSV
    در فصل فایل‌ها و استثناها مورد بررسی قرار گرفت. در زمان نگارش این کتاب حداکثر محدوده تاریخ فلان از سال ۱۸۹۵ تا ۲۰۱۸ می‌باشد. برای راحتی شما، داده‌ها را در پوشه 
    ch10
    از پوشه 
    examples
    در فایل 
    ave_hi_nyc_jan_1895-2018.csv
    قرار دادیم. اگر داده‌ها را خودتان دانلود کردید، سطر بالای خط حاوی 
    "Date,Value,Anomaly".
    را حذف کنید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">این داده‌ها برای هر 
    observation
    شامل سه ستون می‌باشد:
</div>
<br>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">
    <span style="color:#8e24aa;">• </span><b>Date  </b>مقداری است با فرمت 
    'YYYYMM'
    مانند 
    '201801'
    . چون داده‌ها فقط برای ماه ژانویه هر سال است، 
    MM
    همیشه 
    01
    است.<br>
    <span style="color:#8e24aa;">• </span><b>Value </b>یک مقدار اعشاری که معرف دما برحسب فارنهایت می‌باشد.<br>
    <span style="color:#8e24aa;">• </span><b>Anomaly  </b>تفاوت بین مقدار برای یک تاریخ داده شده و مقادیر متوسط برای همه تاریخ‌ها. در این مثال از 
    Anomaly
    استفاده نمی‌کنیم، بنابراین آن را نادیده می‌گیریم.<br>
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    بارگذاری میانگین دمای بالا در یک 
    DataFrame
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این قسمت داده‌های مربوط به شهر نیویورک را از فایل 
    ave_hi_nyc_jan_1895-2018.csv
    بارگذاری کرده و نمایش می‌دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;ave_hi_nyc_jan_1895-2018.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">136</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;ave_hi_nyc_jan_1895-2018.csv&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;pd&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">می‌توانیم با استفاده از متدهای 
     head
    و 
    tail
    در 
    DataFrame
    به اطلاعات نگاهی بیاندازیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">137</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">138</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    پاک‌سازی داده‌ها
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">به زودی از 
    Seaborn
    برای رسم نمودار زوج‌های 
    Date-Value
    و یک خط رگرسیون استفاده خواهیم کرد. 
    Seaborn
    هنگام ترسیم داده از 
    DataFrame
    محورهای نمودار را با استفاده از 
    نام ستون‌های 
    DataFrame
    نام‌گذاری می‌کند. برای خوانایی بهتر، اجازه دهید 
    'Value'
    را به 
    'Temperature'
    تغییر نام دهیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">139</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;Anomaly&#39;</span><span class="p">]</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">140</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">Seaborn
    علامت‌های تیک را در مقادیر 
    Date
    در محور 
    x
    ها برچسب‌گذاری می‌کند. از آنجا که این مثال فقط دمای ژانویه را پردازش می‌کند، اگر 
    Date
    حاوی 
    01
    نباشد (برای ژانویه) برچسب‌های محور 
    x
    ها خواناتر خواهند بود، بنابراین آن را از هر 
    Date
    حذف خواهیم کرد. ابتدا 
    type
    ستون
    Date
    را بررسی می‌کنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">141</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">dtype</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">مقادیر
    integer
    هستند، بنابراین برای می‌توانیم برای حذف دو رقم آخر، آن‌ها را بر ۱۰۰ تقسیم کنیم. به یاد بیاورید که هر ستون در یک 
    DataFrame
    یک 
    Series
    است. فراخوانی متد 
    floordiv
    در 
    Series
    تقسیم صحیح را برای هر عضو در 
    Series
    انجام می‌دهد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span> <span class="o">=</span> <span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">floordiv</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">142</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">Date</span> <span class="o">=</span> <span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="o">.</span><span class="n">floordiv</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">143</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    محاسبه آمار توصیفی پایه برای 
    Dataset
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">متد 
    describe
    را برای ستون 
    Temperature
    فراخوانی می‌کنیم تا چند آمار سریع در مورد دیتاست دما استخراج کنیم. همان طور که مشاهده می‌کنید ۱۲۴ 
    observation
    وجود دارد، میانگین ۳۷.۶۰ و کمترین و بیشترین مقدار مشاهدات به ترتیب برابر ۲۶.۱۰ و ۴۷.۶۰ درجه می‌باشد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">144</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;pd&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">145</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="ne">NameError</span>: name &#39;nyc&#39; is not defined
</pre></div>
</div>
</div>
</div>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
   پیش‌بینی میانگین دمای بالا برای ژانویه آینده
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">کتابخانه
    SciPy
    به طور گسترده‌ای برای مهندسی، علوم و ریاضیات در پایتون مورد استفاده قرار می‌گیرد. تابع 
    linregress
    در ماژول 
    stats
    این کتابخانه، شیب و عرض از مبدأ خط رگرسیون را برای یک مجموعه از نقاط داده محاسبه می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">146</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;scipy&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linear_regression</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="p">,</span>
                                     <span class="n">y</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">147</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">linear_regression</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>                                      <span class="n">y</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;stats&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">تابع 
    linregress
    دو آرایه یک بعدی با طول یکسان که نشان‌دهنده نقاط داده در محورهای مختصات 
    x
    و 
    y
    هستند، دریافت می‌کند. آرگومان‌های کلیدی 
    x
    و 
    y
    به ترتیب متغیرهای مستقل و وابسته را نشان می‌دهند. 
    آرگومان‌ها می‌توانند آرایه‌ای یک بعدی از اشیائی مانند لیست‌ها 
    و یا 
    pandas Series
    باشند.
    شیء بازگشتی توسط 
    linregress
    شامل شیب و عرض از مبدا خط رگرسیون هستند
    :
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">148</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span>

<span class="ne">NameError</span>: name &#39;linear_regression&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">149</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>

<span class="ne">NameError</span>: name &#39;linear_regression&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">می‌توانیم از این مقادیر و معادله رگرسیون خطی ساده برای یک خط مستقیم یعنی 
    $ y = mx + b $
    استفاده کنیم تا میانگین دمای ژانویه در شهر نیویورک را برای یک سال خاص پیش‌بینی کنیم. در این قسمت میانگین دمای فارنهایت را برای ژانویه ۲۰۱۹ پیش‌بینی می‌کنیم. در محاسبه زیر، 
    linear_regression.slope
    شیب خط و یا 
    m
    بوده و مقدار 
    x
    برابر ۲۰۱۹ است (تاریخی که قصد دارید دما را برای آن پیش‌بینی کنید) و 
    linear_regression.intercept
    عرض از مبدأ و یا 
    b
    می‌باشد:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span> <span class="o">*</span> <span class="mi">2019</span> <span class="o">+</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">150</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span> <span class="o">*</span> <span class="mi">2019</span> <span class="o">+</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>

<span class="ne">NameError</span>: name &#39;linear_regression&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">همچنین می‌توانیم تخمین بزنیم که میانگین دما در سال‌های قبل از ۱۸۹۵ چه بوده است. به عنوان مثال، میانگین دمای ژانویه ۱۸۹۰ را تقریب می‌زنیم:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span> <span class="o">*</span> <span class="mi">1850</span> <span class="o">+</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">151</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">slope</span> <span class="o">*</span> <span class="mi">1850</span> <span class="o">+</span> <span class="n">linear_regression</span><span class="o">.</span><span class="n">intercept</span>

<span class="ne">NameError</span>: name &#39;linear_regression&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">برای این مثال، داده‌های سال ۱۸۹۵ تا ۲۰۱۸ را در اختیار داشتیم. باید انتظار داشته باشید که هرچه از این محدوده دورتر شوید، پیش‌بینی‌ها کمتر قابل اعتماد خواهند بود.
</div><h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
   رسم میانگین دماهای بالا و خط رگرسیون
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این مرحله، با استفاده از تابع 
    regplot
    در 
    Seaborn
    نمودار نقاط داده را با قراردادن تاریخ در محور 
    x
    و دما در محور 
    y
    رسم می‌کنیم. تابع 
    regplot
    نمودار پراکندگی 
    (scatter plot)
    و خط زیر را ایجاد می‌کند. نمودار پراکندگی نمایانگر پراکندگی دما برای تاریخ‌های معین بوده و خط مستقیمی که از میان نقاط داده نمایش داده می‌شود، خط رگرسیون است:
</div><p><img alt="Screenshot (81).png" src="Chapters/10 - Object-Oriented-Programming/attachment:8a2e3428-bab5-45a8-bef3-146309e0bb17.png" /></p>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در ابتدا پنجره 
    Matplotlib
    قبلی را ببندید، البته اگر قبلا این کار را نکرده‌اید. اگر این پنجره را نبندید، 
    regplot
    از پنجره موجود که حاوی نمودار قبلی است استفاده می‌کند. آرگومان‌های کلیدی 
    x و y
    تابع 
    regplot
    آرایه‌های یک بعدی با طول یکسان هستند و نمایانگر زوج مختصات 
    x-y
    برای 
    plot
    هستند. به یاد بیاورید که اگر نام هر ستون بتواند یک شناسه معتبر پایتون باشد، 
    pandas
    به طور خودکار 
    attribute
    هایی را برای هر نام ستون ایجاد می‌کند:
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">152</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;seaborn&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">153</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;sns&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="p">)</span>

<span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">154</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">nyc</span><span class="o">.</span><span class="n">Temperature</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;sns&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">شیب خط رگرسیون (پایین‌تر درسمت چپ و بالاتر در سمت راست) روند گرم شدن در ۱۲۴ سال گذشته را نشان می‌دهد. در این نمودار، محور عمودی نشان‌دهنده یک محدوده ۲۱.۵ درجه  دما بین حداقل ۲۶.۱ درجه و حداکثر ۴۷.۶ درجه است، بنابراین به نظر می‌رسد که داده‌ها به طور قابل توجهی در بالا و پایین خط رگرسیون پخش می‌شوند و مشاهده رابطه خطی را دشوار می‌کنند. این یک مسئله معمول در رسم نمودار برای تجزیه و تحلیل داده است. هنگامی که محورهایی دارید که انواع مختلف داده‌ها را منعکس می‌کنند (تاریخ و درجه حرارت در این مورد) چگونه مقیاس مربوطه را به طور منطقی تعیین می‌کنید؟ در نمودار قبل، این مسئله فقط مربوط به ارتفاع نمودار بود. 
    Seaborn
    و 
    Matplotlib
    بر اساس دامنه مقادیر داده‌ها، به طور خودکار محورها را مقیاس‌بندی می‌کنند. برای تأکید بر رابطه خطی می‌توانیم محور عمودی را مقیاس‌بندی کنیم. در این مورد از یک محدوده ۲۱.۵ درجه به یک محدوده ۶۰ درجه (از ۱۰ تا ۷۰ درجه) مقیاس بندی کردیم.
</div><p><img alt="Screenshot (82).png" src="Chapters/10 - Object-Oriented-Programming/attachment:60fbd0a9-472f-4bde-9676-e40ebd2dd731.png" /></p>
<h2 style="direction:rtl;font-size: px;font-family: 'XB Zar';color:#0288d1;">
    به دست آوردن دیتاست‌های سری‌های زمانی
</h2> <a id=''></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در اینجا چند سایت معروف معرفی می‌شوند که می‌توانید سری‌های زمانی را برای استفاده در مطالعات خود پیدا کنید:
</div><p><img alt="Screenshot (83).png" src="Chapters/10 - Object-Oriented-Programming/attachment:96d1e2a3-48b2-4de8-9f98-02d33731c3ee.png" /></p>
<h1 style="direction:rtl;font-size: 35px;font-family: 'XB Zar';color:#8e24aa;">10.17 <span style="color:#F50057;">جمع‌بندی</span></h1> <a id='38'></a><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در این فصل، جزئیات ساخت کلاس‌های ارزشمند را شرح دادیم. نحوه تعریف کلاس، ایجاد اشیائی از کلاس، دسترسی به 
    attribute
    های یک شیء و فراخوانی متدهای آن را مشاهده کردید. متد خاص 
     __init__
    را برای ایجاد و مقداردهی اولیه 
    data attributeهای
    یک شیء جدید تعریف کردید.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مورد کنترل دسترسی به 
    attribute
    ها و استفاده از 
    property
    ها بحث کردیم. نشان دادیم که ممکن است یک 
    client
    به طور مستقیم به همه 
    attribute
    های یک شیء دسترسی پیدا کند. در مورد شناسه‌هایی که با کاراکتر زیرخط منفرد (_) آغاز می‌شوند، صحبت کردیم و یادآور شدیم قرار نیست 
    client code
    به آن‌ها دسترسی داشته باشند. نشان دادیم که چگونه می‌توان 
    attribute
    های 
    private
    را از طریق قرارداد نام‌گذاری پیاده‌سازی کرد. برای این کار نام 
    private attribute
    با دو کاراکتر زیرخط آغاز می‌شود. این رویکرد به پایتون می‌گوید نام 
    attribute
    را مدیریت کند.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">یک شبیه‌سازی برای برزدن کارت و پخش کردن کارت را با یک کلاس 
    Card
    و یک کلاس 
    DeckOfCards
    که لیستی از کارت‌ها را نگهداری می‌کند، پیاده‌سازی کردیم و با استفاده از 
    Matplotlib
    کارت‌ها را به صورت تصویری نمایش دادیم. متدهای ویژه 
     __repr__, __str__ و __format__ 
    را برای ایجاد نمایش رشته‌ای اشیاء معرفی کردیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در مرحله بعد، قابلیت‌های پایتون را برای ایجاد کلاس‌های پایه و زیرکلاس‌ها بررسی کردیم. نشان دادیم که چگونه می‌توان یک زیرکلاس ایجاد کرد که بسیاری از قابلیت‌های خود را از کلاس پایه خود به ارث ببرد و سپس، قابلیت‌های بیشتری را به آن اضافه کنیم و احتمالا بعضی از متدهای کلاس پایه را 
    override
    کنیم. لیستی ایجاد کردیم که شامل اشیایی از کلاس پایه و زیرکلاس بود تا قابلیت‌های برنامه نویسی چندریختی پایتون را نشان دهیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">overload
    کردن عملگرها را معرفی کردیم و نشان دادیم چگونه باید نحوه کار عملگرهای داخلی پایتون با اشیایی از نوع کلاس‌های شخصی‌سازی شده را تعریف کرد. مشاهده کردید که متدهای 
    overload
    شده عملگرها، از 
    override
    کردن متدهای مختلف و خاصی که همه کلاس‌ها از کلاس 
    object
    به ارث می‌برند، پیاده‌سازی می‌شوند. در مورد سلسله‌مراتب کلاس استثنای پایتون بحث کردیم و کلاس‌های استثناهای سفارشی را ایجاد کردیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">نشان دادیم که چگونه یک تاپل نام‌گذاری شده ایجاد کنیم. این تاپل‌ها به شما این امکان را می‌دهند برای دسترسی به عناصر تاپل به جای استفاده از شماره اندیس از نام 
    attribute
    استفاده کنید. در ادامه، کلاس‌های داده جدید پایتون ۳.۷ را معرفی کردیم، این کلاس‌ها می‌توانند کدهای مختلف و تکراری را در تعریف کلاس به صورت خودکار تولید کنند. برای مثال متدهای ویژه‌ای مانند 
     __init__, __repr__ و __eq__
    نمونه‌ای از این کدها محسوب می‌شوند.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">دیدید که چگونه می‌توانید در 
    docstring
    تست‌های واحد (
     unit tests
    ) برای کد خود بنویسید و سپس از طریق تابع 
    testmod
    در ماژول 
    doctest
    آن تست‌ها را به راحتی انجام دهید. در انتها، در مورد 
    namespace
    های مختلفی که پایتون برای تعیین حوزه شناسه‌ها استفاده می‌کند صحبت کردیم.
</div><div style="direction:rtl; font-size: 17px; font-family: 'XB Zar'; line-height: 200%">در قسمت بعدی کتاب، یک سری پیاده‌سازی موردی ارائه می‌دهیم که از فناوری‌های هوش‌مصنوعی و کلان داده به طور ترکیبی استفاده می‌کنند. پردازش زبان طبیعی، داده‌کاوی توییتر، آی‌بی‌ام واتسون و محاسبات شناختی، یادگیری ماشین با نظارت و بدون نظارت، یادگیری عمیق با شبکه‌های عصبی کانولوشن و شبکه عصبی بازگشتی را مورد بررسی قرار می‌دهیم. درمورد زیرساخت‌های نرم‌افزاری و سخت‌افزاری کلان داده، از جمله پایگاه داده‌های 
    NoSQL, Hadoop و Spark
    با تأکید عمده بر کارایی بحث می‌کنیم. به زودی مطالب جالبی را مشاهده خواهید کرد.
</div></section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Chapters/10 - Object-Oriented-Programming"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../09%20-%20Files-and-Exceptions/Chapter9.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 9</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Deitel & Deitel
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>